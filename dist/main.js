!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n=function(e){return Array.isArray(e)||"object"==typeof e},i=function(e){return Array.isArray(e)},a=function(e){return"string"==typeof e},s=function(e){return arguments.length&&(void 0===e||void 0===e)},o=function(e){return null===e||""===e},l=function(e){return!Array.isArray(e)&&"object"==typeof e&&e},u=function(e,t=!0){return i(e)?e:!t&&l(e)?[e]:!1!==e&&0!==e&&function(e){return o(e)||s(e)||!1===e||0===e||n(e)&&!Object.keys(e).length}(e)?[]:function(e){return!a(e)&&!s(e.length)}(e)?Array.prototype.slice.call(e):l(e)?Object.values(e):[e]},f=function(e,t=null){var r={};return 2===arguments.length&&(a(e)?r[e]=t:i(e)&&i(t)&&e.forEach((e,n)=>r[e]=t[n])),r},c=function(e){return!0!==e&&!1!==e&&null!==e&&""!==e&&!isNaN(1*e)},g=function(e){return function(e){return"function"==typeof e}(e)||e&&"[object function]"==={}.toString.call(e)},h=function(e,t){var r=void 0;return n(e)&&Object.keys(e).forEach((n,i)=>{!1!==r&&(r=t(c(n)?parseFloat(n):n,e[n],i))}),r},p=class{constructor(e,t={}){this.$={},this.$.target=e,this.$.details=t,this.$.propagationStopped=!1,this.$.defaultPrevented=!1,this.$.promisesInstance=null,this.$.promises=[],h(t,(e,t)=>{"$"!==e&&Object.defineProperty(this,e,{value:t})})}get target(){return this.$.target}get details(){return this.$.details}stopPropagation(){this.$.propagationStopped=!0}get propagationStopped(){return this.$.propagationStopped}preventDefault(){this.$.defaultPrevented=!0}get defaultPrevented(){return this.$.defaultPrevented}promise(e){if(!(e instanceof Promise))throw new Error("Event.promise() must be called with a Promise.");this.$.promises.push(e),this.$.promisesInstance=null}get promises(){return!this.$.promisesInstance&&this.$.promises.length&&(this.$.promisesInstance=Promise.all(this.$.promises)),this.$.promisesInstance}response(e){var t,r=l(e)&&!s(e.propagationStopped)&&!s(e.defaultPrevented);!1===e||r&&e.propagationStopped?this.stopPropagation():!1===e||r&&e.defaultPrevented?this.preventDefault():(e instanceof Promise&&(t=e)||r&&(t=e.promises))&&this.promise(t)}},d=class extends p{constructor(e,t={}){super(e,t)}},y=function(e){return"number"==typeof e},v=function(e){return l(e)&&Object.getPrototypeOf(e)===Object.prototype},b=function(e){return!0===e||!1===e};const m=function(e,t,r=!0,a=1){if(i(e)&&i(t)&&e.length!==t.length)return!r;if(l(e)&&l(t)){var s=Object.keys(e),o=Object.keys(t);if(!s.length&&!o.length)return v(e)&&v(t)?r:e===t===r;if(!m(s,o))return!r}if(a>0&&(i(e)&&i(t)||l(e)&&l(t))){var u=function(e,t,r=!0,a=!0,s=!1,o=!1){if(i(e)&&i(t)){var u=[],f=!0;return e.forEach(e=>{if(f){var c=!1;h(t,(t,s)=>{(!c||a&&n(e))&&(c=r(e,s),(i(c)&&!c.length||l(c)&&!Object.keys(c).length)&&(c=!1),n(c)&&a&&(e=c))}),n(c)?u.push(a?c:e):b(c)?s&&!c||!s&&c?u.push(e):o&&(f=!1):u.push(c)}}),u}if(l(e)&&l(t)){u={},f=!0;return Object.keys(e).forEach(c=>{if(f){var g=r(e[c],t[c]);(i(g)&&!g.length||l(g)&&!Object.keys(g).length)&&(g=!1),n(g)?u[c]=a?g:e[c]:b(g)?s&&!g||!s&&g?u[c]=e[c]:o&&(f=!1):u[c]=g}}),u}}(e,t,(e,t)=>m(e,t,r,a-1),!1,!1,!0);return i(u)?u.length===e.length&&u.length===t.length:l(u)&&l(e)?Object.keys(u).length===Object.keys(e).length&&Object.keys(u).length===Object.keys(t).length:u}return g(r)?r(e,t):y(e)&&y(t)&&isNaN(e)&&isNaN(t)?r:e===t===r};var w=m,E=class{disconnect(){this.disconnected=!0}},F=class{constructor(){this.fireables=[],this.currentlyFiringEvents=[]}addFireable(e){return this.fireables.push(e),e}removeFireable(e,t=[]){this.fireables=this.fireables.filter(t=>t!==e)}findFireables(e){return this.fireables.filter(t=>!(e.handler&&t.handler!==e.handler||e.params&&(e.params.type&&t.params.type!==e.params.type||e.params.tags&&function(e,t,r=null){return i(t)?e.filter(e=>r?t.filter(t=>r(e,t)).length:-1!==t.indexOf(e)):[]}(t.params.tags||[],e.params.tags).length!==e.params.tags.length)))}static createForTarget(e,t,r){var i;if(e&&n(e))return(i=e[j])||(i={},Object.defineProperty(e,j,{get:()=>i,set:e=>{if(e!==i)throw new Error('Attempt to overwrite the "'+j+'" special property!')},enumerable:!1})),i[t]="listeners"===t?new r(e):new r,i[t]}static getForTarget(e,t){var r;if(e&&n(e)&&(r=e[j]))return r[t]}};const j="< r e f l e x >";var O=class extends E{constructor(e,t={}){super(),this.handler=e,this.params=t}fire(e,t,r){return this.disconnected||this.params.type&&this.params.type!==e.type?t(...u(arguments).slice(2)):this.handler(e,r,t)}};class T extends F{fire(e,t=null){if(this.currentlyFiringEvents.filter(t=>t.type===e.type&&t.query===e.query).length)return t?t():void 0;this.currentlyFiringEvents.push(e);const r=(n,...i)=>{var a=this.fireables[n];return a?a.fire(e,(...e)=>r(n+1,...e),...i):t?t(...i):i[0]};var n=r(0);return this.currentlyFiringEvents.pop(),n}static createForTarget(e){return super.createForTarget(e,"traps",T)}static getForTarget(e){return super.getForTarget(e,"traps")}}var D=function(e,...t){return t.forEach(t=>{e.indexOf(t)<0&&e.push(t)}),e},P=function(e,t){var r=[];return function(e,t){t=(t=t||Object.prototype)&&!i(t)?[t]:t;var r=[];for(e=e;e&&(!t||t.indexOf(e)<0)&&"default"!==e.name;)r.push(e),e=e?Object.getPrototypeOf(e):null;return r}(e,t).forEach(e=>{D(r,...Object.getOwnPropertyNames(e))}),r};function _(e,t,r=!1,a=!1,s=!0){var o=0,u=e.shift();if((c(u)||!0===u||!1===u)&&(o=u,u=e.shift()),!e.length)throw new Error("_merge() requires two or more array/objects.");return e.forEach((e,f)=>{(n(e)||g(e))&&(r?P(e):Object.getOwnPropertyNames(e)).forEach(n=>{var g=u[n],h=e[n];if((i(g)&&i(h)||l(g)&&l(h))&&(!0===o||o>0))u[n]=i(g)&&i(h)?[]:{},_([c(o)?o-1:o,u[n],g,h],t,r,a,s);else if(t(n,u,e,f))if(i(u)&&i(e))a?u[n]=h:u.push(h);else try{s?Object.defineProperty(u,n,Object.getOwnPropertyDescriptor(e,n)):u[n]=e[n]}catch(e){}})}),u}var k=function(e,t=[],r=!0){var a=0;return c(arguments[0])&&n(arguments[1])&&(a=arguments[0],e=arguments[1],t=arguments[2]||[]),_([a,{},e],(e,r,n)=>g(t)?t(e):!i(t)||!t.length||t.indexOf(e)>-1,!1,!1,r)},x=function(...e){return _(e,(e,t,r)=>!0,!1,!1,!1)},$=class extends p{constructor(e,t={}){if(t.data&&(t.fields=Object.keys(t.data)),super(e,t),this.srcEvt){this.dataEven=this.srcEvt.dataEven,this.originatingTarget=this.srcEvt.originatingTarget,this.originatingType=this.srcEvt.originatingType,this.originatingFields=[],this.originatingData={},this._originatingData={};var r=this.fields[0];Object.keys(this.srcEvt.originatingData).forEach(e=>{var t=r+"."+e;this.originatingFields.push(t),this.originatingData[t]=this.srcEvt.originatingData[e],this._originatingData[t]=this.srcEvt._originatingData[e]}),this.originatingCreated=this.srcEvt.originatingCreated,this.originatingDeleted=this.srcEvt.originatingDeleted}else this.dataEven=w(this.data,this._data),this.originatingTarget=this.target,this.originatingType=this.type,this.originatingFields=this.fields,this.originatingData=this.data,this._originatingData=this._data,this.originatingCreated=this.created,this.originatingDeleted=this.deleted}};class C extends F{findFireables(e){return super.findFireables(e).filter(t=>o(e.fields)||s(e.fields)||w(u(t.fields),u(e.fields)))}fire(e){return this.currentlyFiringEvents.filter(t=>t.type===e.type&&t.fields===e.fields).length||(this.currentlyFiringEvents.push(e),this.fireables.forEach(t=>{e.propagationStopped||t.params.type&&t.params.type!==e.type||t.fire(e)}),this.currentlyFiringEvents.pop()),e}static createForTarget(e){return super.createForTarget(e,"observers",C)}static getForTarget(e){return super.getForTarget(e,"observers")}}var A=function(e,t,r=null,i={}){if(!e||!n(e))throw new Error("Object must be of type object!");var a;(g(t)||o(t)||s(t))&&(i=arguments.length>2?r:{},r=t,t=null),(a=C.getForTarget(e))&&a.findFireables({handler:r,fields:t,params:i}).forEach(e=>{a.removeFireable(e)})},S=function(e,t,r){A(r,null,{tags:["#e-bubbling",t,e]})},N=function(e){return typeof e},q=function(e,t,r={},i={}){t=u(t).slice();for(var a=e;!s(a)&&!o(a)&&t.length;){var l=t.shift();if(!(r.get?r.get(a,l):n(a)?l in a:a[l]))return void(i.exists=!1);a=r.get?r.get(a,l):a[l]}return i.exists=!0,a},W=class extends E{constructor(e,t=null,r={}){if(super(),this.handler=e,this.fields=t,this.params=r,this.fieldsArray=u(this.fields),this.isDynamicField=this.fieldsArray.filter(e=>e.indexOf("..")>-1||e.startsWith(".")||e.endsWith(".")).length,this.isDynamicField&&this.fieldsArray.length>1)throw new Error('Only one "Dynamic Field" must be observed at a time! "'+this.fieldsArray.join(", ")+'" have been bound together.')}fire(e){this.disconnected||this.params.type&&this.params.type!==e.type||e.dataEven&&!1!==this.params.diff||this.fireCallback(e,t=>{if(t){var r=[],n=[];return!1!==this.params.data&&t.forEach(t=>{var i=e.originatingFields.reduce((r,n)=>{var i=e.originatingData[n],a=e._originatingData[n];if(!r&&t===n)return[i,a];if(!r&&(t+".").startsWith(n+".")){var s=function(e,t,r=!1){if(""==t)return e;var n=r?e.lastIndexOf(t):e.indexOf(t);return-1===n?"":e.substr(n+t.length)}(t,n+".");return[q(i,s.split("."),{get:Q}),q(a,s.split("."),{get:Q})]}return r},null);if(i)r.push(i.shift()),n.push(i.shift());else{var s=q(e.target,a(t)?t.split("."):t,{get:Q});r.push(s),n.push(s)}}),i(this.fields)?e.response(this.handler(r,n,e)):e.response(this.handler(r[0],n[0],e))}r={},n={};return e.fields.forEach(t=>{var i=t in e.data?e.data[t]:Q(e.target,t),a=t in e._data?e._data[t]:i;r[t]=i,n[t]=a}),e.response(this.handler(r,n,e))})}fireCallback(e,t){if(this.fieldsArray.length){var r=[];this.fieldsArray.filter((t,n)=>(t=a(t)?t.replace(/`/g,""):t,r[n]=[],e.originatingFields.filter(i=>{var a=i.split("."),s=this.isDynamicField?t.split(".").map((e,t)=>e||a[t]||"").join("."):t;return D(r[n],s),(s===i&&!e.srcEvt||!1!==this.params.observeUp&&(s+".").startsWith(i+".")||this.params.observeDown&&(i+".").startsWith(s+"."))&&(!this.isDynamicField||!s.split(".").filter(e=>!e).length)}).length)).length&&(n=r,n.reduce((e,t)=>{var r=[];return e.forEach(e=>{u(t).forEach(t=>{var n=e.slice();n.push(t),r.push(n)})}),r},[[]])).forEach(t)}else e.srcEvt&&!this.params.observeDown||t();var n}},I=function(e,t,r=null,i={}){if(!e||!n(e))throw new Error("Object must be of type object!");if(g(t)&&(i=arguments.length>2?r:{},r=t,t=null),!g(r))throw new Error('Callback must be a function; "'+N(r)+'" given!');var a;return(a=C.getForTarget(e))||(a=C.createForTarget(e)),a.addFireable(new W(r,t,i))},M=function(e,t,r){var n;I(r,(i,a,s)=>{if(n=C.getForTarget(e)){var o=f(t,r);return n.fire(new $(e,{type:s.type,bubbling:!0,data:o,_data:o,srcEvt:s}))}},{observeDown:!0,tags:["#e-bubbling",t,e]})},K=function(e,t,r=[],a=!1){var s=e.map((e,t)=>{if(!e||!n(e))throw new Error("Target must be of type object!");return{target:e,targetCopy:k(e,r),setData:{},_setData:{},delData:{},_delData:{},created:[],deleted:[]}}),o=t(...e);return s.map(e=>{var t,s,o,l=Object.keys(e.targetCopy),u=Object.keys(e.target),f=(t=l.concat(u),t.filter((e,t,r)=>r.indexOf(e)===t)).filter(t=>{if(!(r.length&&!r.includes(t)||i(e.target)&&("length"===t||"< r e f l e x >"===t))){if(u.includes(t)?(e._setData[t]=e.targetCopy[t],e.setData[t]=e.target[t],l.includes(t)||e.created.push(t)):(e._delData[t]=e.targetCopy[t],e.delData[t]=void 0,e.deleted.push(t)),e.targetCopy[t]!==e.target[t])return e.targetCopy[t]&&n(e.targetCopy[t])&&S(e.target,t,e.targetCopy[t]),e.target[t]&&n(e.target[t])&&M(e.target,t,e.target[t]),!0;delete e.setData[t],delete e._setData[t]}});return((o=C.getForTarget(e.target))||a)&&(s=new $(e.target,{type:"transaction",data:x(e.setData,e.delData),_data:x(e._setData,e._delData),created:e.created,deleted:e.deleted}),o&&(Object.keys(e.delData).length&&s.response(o.fire(new $(e.target,{type:"del",data:e.delData,_data:e._delData,deleted:e.deleted}))),Object.keys(e.setData).length&&s.response(o.fire(new $(e.target,{type:"set",data:e.setData,_data:e._setData,created:e.created}))))),a?s:f}),o},Q=function(e,t){if(!e||!n(e))throw new Error("Target must be of type object!");var r,a,s=function(r){return arguments.length?r:i(t)?f(t,e):e[t]};return r=(a=T.getForTarget(e))?a.fire(new d(e,{type:"get",query:t}),s):s(),i(e)&&!c(t)&&g(r)?function(...t){return K([e],()=>r.apply(e,t))}:r},R=function(e,t){return e.reduce((e,r)=>e&&t(r),!0)},U=function(e,t){if(!e||!n(e))throw new Error("Target must be of type object!");var r,i=function(r){return arguments.length?r:t in e};return(r=T.getForTarget(e))?r.fire(new d(e,{type:"has",query:t}),i):i()},z=function(e,t,r,s=null,o=!1){if(!t||!n(t))throw new Error("Target must be of type object!");l(r)&&(o=s);var f,c,g=r,h={},p={},v=[],b=(r,i,a)=>{var s;h[r]=t[r],U(t,r)||v.push(r),e&&(i=(s=i||{}).value);var o,l,u=function(e){return arguments.length?e:(s?Object.defineProperty(t,r,s):t[r]=i,!0)};if(l=T.getForTarget(t)){var f=s?{type:"def",query:r,descriptor:s,related:a}:{type:"set",query:r,value:i,related:a};o=l.fire(new d(t,f),u)}else o=u();return o?(p[r]=i,p[r]!==h[r]?(h[r]&&n(h[r])&&S(t,r,h[r]),p[r]&&n(p[r])&&M(t,r,p[r])):(delete p[r],delete h[r])):delete h[r],o},m=[];if(i(g)||(a(g)||y(g))&&(g=u(g)))m=g.map(e=>b(e,s,g));else if(l(r)){var w=Object.keys(r);m=w.map(e=>b(e,r[e],w))}return((c=C.getForTarget(t))||o)&&(f=new $(t,{type:"set",data:p,_data:h,created:v}),c&&c.fire(f)),o?f:R(m,e=>e)},B=function(e,t,r=null,n=!1){return z(!1,...arguments)},G=function(e,t){u(t).forEach(t=>{var r,n,i=e[t],a=Object.getOwnPropertyDescriptor(e,t)||{enumerable:!(t in e)};"value"in a&&delete a.value,"writable"in a&&delete a.writable,a.get=()=>{if(r)return i;r=!0;var n=Q(e,t);return r=!1,n},a.set=r=>{if(n)return i=r,!0;n=!0;B(e,t,r);return n=!1,!0},Object.defineProperty(e,t,a)})},H=function(e,t){if(!t||!n(t))throw new Error("Target must be of type object!");var r,i=function(r){return arguments.length?r:e?Object.getOwnPropertyNames(t):Object.keys(t)};return(r=T.getForTarget(t))?r.fire(new d(t,{type:e?"ownKeys":"keys"}),i):i()},J=function(e){return H(!1,...arguments)};var L=function(e,t,r=null,n=!1){return z(!0,...arguments)},V=function(e,t,r=!1){if(!e||!n(e))throw new Error("Target must be of type object!");t=u(t);var i,a,s={},o={},l=[],f=t.map(r=>{s[r]=e[r],U(e,r)&&l.push(r);var i,a,u=function(t){return arguments.length?t:(delete e[r],!0)};return(i=(a=T.getForTarget(e))?a.fire(new d(e,{type:"del",query:r,related:t}),u):u())&&(o[r]=void 0,s[r]&&n(s[r])&&S(e,r,s[r])),i});return((a=C.getForTarget(e))||r)&&(i=new $(e,{type:"del",data:o,_data:s,deleted:l}),a&&Object.keys(o).length&&a.fire(i)),r?i:R(f,e=>e)};class X extends F{fire(e){return this.fireables.forEach(t=>{e.propagationStopped||t.fire(e)}),e}static createForTarget(e,t=X){return super.createForTarget(e,"listeners",t)}static getForTarget(e){return super.getForTarget(e,"listeners")}}var Y=class extends E{constructor(e,t={}){super(),this.handler=e,this.params=t}fire(e){this.params.type===e.type&&e.response(this.handler.call(this.target,e.e))}};var Z={build:function e(t,r=!1){if(!t||!n(t))throw new Error("Target must be of type object!");var i=J(t);i.forEach(i=>{var a=Q(t,i);n(a)&&a&&(M(t,i,a),e(a,r))}),r&&G(t,i)},observe:I,unobserve:A,trap:function(e,t,r={}){if(!e||!n(e))throw new Error("Object must be of type object!");if(!g(t))throw new Error('Callback must be a function; "'+N(t)+'" given!');var i;return(i=T.getForTarget(e))||(i=T.createForTarget(e)),i.addFireable(new O(t,r))},untrap:function(e,t=null,r={}){if(!e||!n(e))throw new Error("Object must be of type object!");var i;(i=C.getForTarget(e))&&i.findFireables({handler:t,params:r}).forEach(e=>{i.removeFireable(e)})},def:L,defineProperty:L,set:B,del:V,deleteProperty:V,link:M,unlink:S,transaction:K,get:Q,has:U,init:G,keys:J,ownKeys:function(e){return H(!0,...arguments)},on:function(e,t,r,n={}){var i;return(i=X.getForTarget(e))||(i=X.createForTarget(e)),i.addFireable(new Y(r,x(n,{type:t})))},off:function(e,t,r=null,n={}){var i;(i=X.getForTarget(e))&&i.findFireables({handler:r,type:t,params:n}).forEach(e=>{i.removeFireable(e)})},trigger:function(e,t,r={}){var n;if(n=X.getForTarget(e))return n.fire(new p(e,x(r,{type:t})))},MutationEvent:$,QueryEvent:d,Event:p};window.WebNative||(window.WebNative={}),window.WebNative.Reflex=Z}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvanMvaXNUeXBlT2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ad2ViLW5hdGl2ZS1qcy9jb21tb25zL2pzL2lzQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvanMvaXNTdHJpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvanMvaXNVbmRlZmluZWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvanMvaXNOdWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ad2ViLW5hdGl2ZS1qcy9jb21tb25zL2pzL2lzT2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ad2ViLW5hdGl2ZS1qcy9jb21tb25zL2Fyci9mcm9tLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ad2ViLW5hdGl2ZS1qcy9jb21tb25zL2pzL2lzRW1wdHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvanMvaXNUeXBlQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvb2JqL2Zyb20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvanMvaXNOdW1lcmljLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ad2ViLW5hdGl2ZS1qcy9jb21tb25zL2pzL2lzRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvanMvaXNUeXBlRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvb2JqL2VhY2guanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ludGVybmFsL0V2ZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9pbnRlcm5hbC9RdWVyeUV2ZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ad2ViLW5hdGl2ZS1qcy9jb21tb25zL2pzL2lzTnVtYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ad2ViLW5hdGl2ZS1qcy9jb21tb25zL2pzL2lzUGxhaW5PYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvanMvaXNCb29sZWFuLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ad2ViLW5hdGl2ZS1qcy9jb21tb25zL29iai9ldmVuLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ad2ViLW5hdGl2ZS1qcy9jb21tb25zL29iai9jb21wYXJlQ2FsbGJhY2suanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ludGVybmFsL0ZpcmVhYmxlLmpzIiwid2VicGFjazovLy8uL3NyYy9pbnRlcm5hbC9GaXJlYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHdlYi1uYXRpdmUtanMvY29tbW9ucy9hcnIvaW50ZXJzZWN0LmpzIiwid2VicGFjazovLy8uL3NyYy9pbnRlcm5hbC9UcmFwLmpzIiwid2VicGFjazovLy8uL3NyYy9pbnRlcm5hbC9UcmFwQmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHdlYi1uYXRpdmUtanMvY29tbW9ucy9hcnIvcHVzaFVuaXF1ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHdlYi1uYXRpdmUtanMvY29tbW9ucy9vYmovZ2V0QWxsUHJvcGVydHlOYW1lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHdlYi1uYXRpdmUtanMvY29tbW9ucy9vYmovZ2V0UHJvdG90eXBlQ2hhaW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvb2JqL21lcmdlQ2FsbGJhY2suanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvb2JqL2NvcHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvb2JqL21lcmdlLmpzIiwid2VicGFjazovLy8uL3NyYy9pbnRlcm5hbC9NdXRhdGlvbkV2ZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9pbnRlcm5hbC9PYnNlcnZlckJhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Vub2JzZXJ2ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdW5saW5rLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ad2ViLW5hdGl2ZS1qcy9jb21tb25zL2pzL2dldFR5cGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvb2JqL2dldC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW50ZXJuYWwvT2JzZXJ2ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvc3RyL2FmdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ad2ViLW5hdGl2ZS1qcy9jb21tb25zL2Fyci9jcm9zc0pvaW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL29ic2VydmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpbmsuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RyYW5zYWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ad2ViLW5hdGl2ZS1qcy9jb21tb25zL2Fyci91bmlxdWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHdlYi1uYXRpdmUtanMvY29tbW9ucy9hcnIvYWxsLmpzIiwid2VicGFjazovLy8uL3NyYy9oYXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL19zZXRQcm9wLmpzIiwid2VicGFjazovLy8uL3NyYy9zZXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luaXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL19nZXRQcm9wcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMva2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdHJhcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVmLmpzIiwid2VicGFjazovLy8uL3NyYy9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ludGVybmFsL0xpc3RlbmVyQmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW50ZXJuYWwvTGlzdGVuZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9idWlsZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdW50cmFwLmpzIiwid2VicGFjazovLy8uL3NyYy9vd25LZXlzLmpzIiwid2VicGFjazovLy8uL3NyYy9vbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvb2ZmLmpzIiwid2VicGFjazovLy8uL3NyYy90cmlnZ2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9icm93c2VyLWVudHJ5LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQXJyYXkiLCJpc0FycmF5IiwidmFsIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiY2FzdE9iamVjdCIsImtleXMiLCJzbGljZSIsInZhbHVlcyIsIm9iaiIsImZvckVhY2giLCJrIiwiaXNOYU4iLCJ0b1N0cmluZyIsInJldHVyblZhbHVlIiwiY2FsbGJhY2siLCJwYXJzZUZsb2F0IiwidGFyZ2V0IiwiZGV0YWlscyIsInRoaXMiLCIkIiwicHJvcGFnYXRpb25TdG9wcGVkIiwiZGVmYXVsdFByZXZlbnRlZCIsInByb21pc2VzSW5zdGFuY2UiLCJwcm9taXNlcyIsInByb3AiLCJwcm9taXNlIiwiUHJvbWlzZSIsIkVycm9yIiwicHVzaCIsImFsbCIsInJzcG5zIiwicHJvbXMiLCJpc0V2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJFdmVudCIsInN1cGVyIiwiZ2V0UHJvdG90eXBlT2YiLCJfZXZlbiIsIm9iajEiLCJvYmoyIiwiYXNzZXJ0aW9uIiwiZGVwdGgiLCJvYmoxS2V5cyIsIm9iajJLZXlzIiwicmVzdWx0IiwiY29udG4iLCJ2MSIsInRlc3RQYXNzIiwidjIiLCJuZXRDb21wYXJpc29uIiwiY29udHJhc3QiLCJyZXR1cm5PbkZpcnN0RmFsc2UiLCJkaXNjb25uZWN0ZWQiLCJmaXJlYWJsZXMiLCJjdXJyZW50bHlGaXJpbmdFdmVudHMiLCJmaXJlYWJsZSIsInRhZ3MiLCJmaWx0ZXIiLCJfZmlyZWFibGUiLCJxdWVyeSIsIm9ic2VydmVyIiwiaGFuZGxlciIsInBhcmFtcyIsInR5cGUiLCJhcnIyIiwiYXJyIiwidmFsMSIsInZhbDIiLCJpbmRleE9mIiwiQmFzZSIsImZpcmViYXNlcyIsImZpcmViYXNlS2V5Iiwic2V0IiwiRmlyZWFibGUiLCJldnQiLCJuZXh0IiwicmVjaWV2ZWQiLCJGaXJlYmFzZSIsImRlZmF1bHRIYW5kbGVyIiwiZSIsImluZGV4IiwiX2FyZ3MiLCJ0cmFwIiwiZmlyZSIsImFyZ3MiLCJwb3AiLCJjcmVhdGVGb3JUYXJnZXQiLCJnZXRGb3JUYXJnZXQiLCJpdGVtcyIsIml0bSIsImtleXNBbGwiLCJ1bnRpbCIsInByb3RvdHlwYWxDaGFpbiIsImdldE93blByb3BlcnR5TmFtZXMiLCJtZXJnZUNhbGxiYWNrIiwib2JqcyIsImRlZXBQcm9wcyIsImlzUmVwbGFjZSIsIndpdGhTeW1ib2xzIiwic2hpZnQiLCJ2YWxBdE9iajEiLCJ2YWxBdE9iajIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJkYXRhIiwiZmllbGRzIiwic3JjRXZ0IiwiZGF0YUV2ZW4iLCJvcmlnaW5hdGluZ1RhcmdldCIsIm9yaWdpbmF0aW5nVHlwZSIsIm9yaWdpbmF0aW5nRmllbGRzIiwib3JpZ2luYXRpbmdEYXRhIiwiX29yaWdpbmF0aW5nRGF0YSIsImZpZWxkIiwicGF0aCIsIl9wYXRoIiwib3JpZ2luYXRpbmdDcmVhdGVkIiwib3JpZ2luYXRpbmdEZWxldGVkIiwiX2RhdGEiLCJjcmVhdGVkIiwiZGVsZXRlZCIsImZpbmRGaXJlYWJsZXMiLCJmaXJlYmFzZSIsIm9yaWdpbmFsQ2FsbGJhY2siLCJyZW1vdmVGaXJlYWJsZSIsInVub2JzZXJ2ZSIsInJlY2lldmVyIiwiX2N0eHQiLCJjdHh0IiwiX2tleSIsImV4aXN0cyIsImZpZWxkc0FycmF5IiwiaXNEeW5hbWljRmllbGQiLCJzdGFydHNXaXRoIiwiZW5kc1dpdGgiLCJqb2luIiwiZGlmZiIsImZpcmVDYWxsYmFjayIsImZpZWxkRGF0YSIsInJlZHVjZSIsIm9yaWdpbmF0aW5nRmllbGQiLCJfdmFsdWUiLCJmaWVsZFF1ZXJ5Iiwic2VhcmNoIiwic3ViamVjdCIsInBvcyIsImFmdGVyTGFzdCIsImxhc3RJbmRleE9mIiwic3Vic3RyIiwic3BsaXQiLCJjdXJyZW50VmFsdWUiLCJyZXNwb25zZSIsInByZXZWYWx1ZSIsImR5bmFtaWNGaWVsZE91dGNvbWVzIiwib2JzZXJ2ZWRGaWVsZCIsInJlcGxhY2UiLCJpbnB1dE9yaWdpbmF0aW5nRmllbGQiLCJpbnB1dE9yaWdpbmF0aW5nRmllbGRTcGxpdCIsIm9ic2VydmVkRHluYW1pY0ZpZWxkT3V0Y29tZSIsIm1hcCIsInNlZyIsIm9ic2VydmVVcCIsIm9ic2VydmVEb3duIiwiY3VyclRhYmxlIiwiY29sdW1uIiwibmV3VGFibGUiLCJyb3ciLCJfcm93IiwiYWRkRmlyZWFibGUiLCJPYnNlcnZlciIsIm9ic2VydmUiLCJlbnRyaWVzIiwiX2VudHJpZXMiLCJiYXNlIiwiTXV0YXRpb25FdmVudCIsImJ1YmJsaW5nIiwiY29udGV4dCIsInRhcmdldHMiLCJ0YXJnZXRDb3B5Iiwic2V0RGF0YSIsIl9zZXREYXRhIiwiZGVsRGF0YSIsIl9kZWxEYXRhIiwiY250eHQiLCJtdXRhdGlvbkJhc2UiLCJpbml0aWFsS2V5cyIsImN1cnJlbnRLZXlzIiwiY2hhbmdlZEtleXMiLCJjb25jYXQiLCJzZWxmIiwiaW5jbHVkZXMiLCJ1bmxpbmsiLCJyZXR1cm5FdmVudCIsInRyYXBCYXNlIiwiZGVmYXVsdEdldCIsIlF1ZXJ5RXZlbnQiLCJ0cmFuc2FjdGlvbiIsImFwcGx5IiwicHJldlRlc3QiLCJkZWZhdWx0SGFzIiwiX3N0YXRlIiwia2V5c09yUGF5bG9hZCIsImhhbmRsZVNldCIsInJlbGF0ZWQiLCJkZXNjcmlwdG9yIiwiZGVmaW5lIiwic3VjY2VzcyIsImRlZmF1bHRTZXQiLCJfc3VjY2VzcyIsInN1Y2Nlc3NTdGF0ZXMiLCJwYXlsb2FkS2V5cyIsInN0YXRlIiwiX3NldFByb3AiLCJvbkdldEZpcmUiLCJvblNldEZpcmUiLCJjdXJyZW50RGVzY3JpcHRvciIsIndyaXRhYmxlIiwibmV3VmFsdWUiLCJkZWZhdWx0S2V5cyIsIl9rZXlzIiwib3duS2V5cyIsIl9nZXRQcm9wcyIsImRlZmF1bHREZWwiLCJsaXN0ZW5lciIsIlN0YXRpYyIsImJ1aWxkIiwiX2luaXQiLCJpbml0IiwiVHJhcCIsInVudHJhcCIsImRlZiIsImRlbCIsImRlbGV0ZVByb3BlcnR5IiwibGluayIsImhhcyIsIm9uIiwi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WSxJQUVwQkQsT0FBT0MsVUFBVUMsT0FBUyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiXHJcbi8qKlxyXG4gKiBUZWxscyBpZiB2YWwgaXMgb2YgdHlwZSBcIm9iamVjdFwiLlxyXG4gKiBUaGlzIGhvbGRzIHRydWUgZm9yIGFueXRoaW5nIG9iamVjdCwgaW5jbHVkaW5nIGJ1aWx0LWlucy5cclxuICpcclxuICogQHBhcmFtIG9iamVjdFx0IFx0dmFsXHJcbiAqXHJcbiAqIEByZXR1cm4gYm9vbFxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsKSB7XHJcblx0cmV0dXJuIEFycmF5LmlzQXJyYXkodmFsKSB8fCB0eXBlb2YgdmFsID09PSAnb2JqZWN0JztcclxufTtcclxuIiwiXHJcbi8qKlxyXG4gKiBUZWxscyBpZiB2YWwgaXMgb2YgdHlwZSBcImFycmF5XCIuXHJcbiAqXHJcbiAqIEBwYXJhbSBvYmplY3RcdCBcdHZhbFxyXG4gKlxyXG4gKiBAcmV0dXJuIGJvb2xcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbCkge1xyXG5cdHJldHVybiBBcnJheS5pc0FycmF5KHZhbCk7XHJcbn07XHJcbiIsIlxyXG4vKipcclxuICogVGVsbHMgaWYgdmFsIGlzIG9mIHR5cGUgXCJzdHJpbmdcIi5cclxuICpcclxuICogQHBhcmFtIHN0cmluZyBcdHZhbFxyXG4gKlxyXG4gKiBAcmV0dXJuIGJvb2xcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbCkge1xyXG5cdHJldHVybiB0eXBlb2YgdmFsID09PSAnc3RyaW5nJztcclxufTtcclxuIiwiXHJcbi8qKlxyXG4gKiBUZWxscyBpZiB2YWwgaXMgdW5kZWZpbmVkIG9yIGlzIG9mIHR5cGUgXCJ1bmRlZmluZWRcIi5cclxuICpcclxuICogQHBhcmFtIHN0cmluZyBcdHZhbFxyXG4gKlxyXG4gKiBAcmV0dXJuIGJvb2xcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbCkge1xyXG5cdHJldHVybiBhcmd1bWVudHMubGVuZ3RoICYmICh2YWwgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJyk7XHJcbn07XHJcbiIsIlxyXG4vKipcclxuICogVGVsbHMgaWYgdmFsIGlzIHVuZGVmaW5lZCBvciBpcyBudWxsLlxyXG4gKlxyXG4gKiBAcGFyYW0gc3RyaW5nIFx0dmFsXHJcbiAqXHJcbiAqIEByZXR1cm4gYm9vbFxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsKSB7XHJcblx0cmV0dXJuIHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09ICcnO1xyXG59O1xyXG4iLCJcclxuLyoqXHJcbiAqIFRlbGxzIGlmIHZhbCBpcyBwdXJlIG9iamVjdC5cclxuICpcclxuICogQHBhcmFtIG9iamVjdFx0IFx0dmFsXHJcbiAqXHJcbiAqIEByZXR1cm4gYm9vbFxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsKSB7XHJcblx0cmV0dXJuICFBcnJheS5pc0FycmF5KHZhbCkgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsO1xyXG59O1xyXG4iLCJcclxuLyoqXHJcbiAqIEBpbXBvcnRzXHJcbiAqL1xyXG5pbXBvcnQgX2lzQXJyYXkgZnJvbSAnLi4vanMvaXNBcnJheS5qcyc7XHJcbmltcG9ydCBfaXNUeXBlQXJyYXkgZnJvbSAnLi4vanMvaXNUeXBlQXJyYXkuanMnO1xyXG5pbXBvcnQgX2lzRW1wdHkgZnJvbSAnLi4vanMvaXNFbXB0eS5qcyc7XHJcbmltcG9ydCBfaXNPYmplY3QgZnJvbSAnLi4vanMvaXNPYmplY3QuanMnO1xyXG5cclxuLyoqXHJcbiAqIENhc3RzIGFuIGFycmF5LWxpa2Ugb2JqZWN0IHRvIGFuIGFycmF5LlxyXG4gKlxyXG4gKiBAcGFyYW0gbWl4ZWQgXHR2YWxcclxuICogQHBhcmFtIGJvb2xcdCBcdGNhc3RPYmplY3RcclxuICpcclxuICogQHJldHVybiBhcnJheVxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsLCBjYXN0T2JqZWN0ID0gdHJ1ZSkge1xyXG5cdGlmIChfaXNBcnJheSh2YWwpKSB7XHJcblx0XHRyZXR1cm4gdmFsO1xyXG5cdH07XHJcblx0aWYgKCFjYXN0T2JqZWN0ICYmIF9pc09iamVjdCh2YWwpKSB7XHJcblx0XHRyZXR1cm4gW3ZhbF07XHJcblx0fTtcclxuXHRpZiAodmFsICE9PSBmYWxzZSAmJiB2YWwgIT09IDAgJiYgX2lzRW1wdHkodmFsKSkge1xyXG5cdFx0cmV0dXJuIFtdO1xyXG5cdH07XHJcblx0aWYgKF9pc1R5cGVBcnJheSh2YWwpKSB7XHJcblx0XHRyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodmFsKTtcclxuXHR9O1xyXG5cdGlmIChfaXNPYmplY3QodmFsKSkge1xyXG5cdFx0cmV0dXJuIE9iamVjdC52YWx1ZXModmFsKTtcclxuXHR9O1xyXG5cdHJldHVybiBbdmFsXTtcclxufTtcclxuIiwiXHJcbi8qKlxyXG4gKiBAaW1wb3J0c1xyXG4gKi9cclxuaW1wb3J0IF9pc051bGwgZnJvbSAnLi9pc051bGwuanMnO1xyXG5pbXBvcnQgX2lzVW5kZWZpbmVkIGZyb20gJy4vaXNVbmRlZmluZWQuanMnO1xyXG5pbXBvcnQgX2lzVHlwZU9iamVjdCBmcm9tICcuL2lzVHlwZU9iamVjdC5qcyc7XHJcblxyXG4vKipcclxuICogVGVsbHMgaWYgdmFsIGlzIGVtcHR5IGluIGl0cyBvd24gdHlwZS5cclxuICogVGhpcyBob2xkcyB0cnVlIGZvciBOVUxMcywgVU5ERUZJTkVELCBGQUxTRSwgMCxcclxuICogb2JqZWN0cyB3aXRob3V0IGtleXMsIGVtcHR5IGFycmF5cy5cclxuICpcclxuICogQHBhcmFtIHN0cmluZyBcdHZhbFxyXG4gKlxyXG4gKiBAcmV0dXJuIGJvb2xcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbCkge1xyXG5cdHJldHVybiBfaXNOdWxsKHZhbCkgfHwgX2lzVW5kZWZpbmVkKHZhbCkgfHwgdmFsID09PSBmYWxzZSB8fCB2YWwgPT09IDAgXHJcblx0XHR8fCAoX2lzVHlwZU9iamVjdCh2YWwpICYmICFPYmplY3Qua2V5cyh2YWwpLmxlbmd0aCk7XHJcbn07XHJcbiIsIlxyXG4vKipcclxuICogQGltcG9ydHNcclxuICovXHJcbmltcG9ydCBfaXNTdHJpbmcgZnJvbSAnLi9pc1N0cmluZy5qcyc7XHJcbmltcG9ydCBfaXNVbmRlZmluZWQgZnJvbSAnLi9pc1VuZGVmaW5lZC5qcyc7XHJcblxyXG4vKipcclxuICogVGVsbHMgaWYgdmFsIGlzIFwiYXJyYXktbGlrZVwiLlxyXG4gKiBUaGlzIGhvbGRzIHRydWUgZm9yIGFueXRoaW5nIHRoYXQgaGFzIGEgbGVuZ3RoIHByb3BlcnR5LlxyXG4gKlxyXG4gKiBAcGFyYW0gb2JqZWN0XHQgXHR2YWxcclxuICpcclxuICogQHJldHVybiBib29sXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWwpIHtcclxuXHRyZXR1cm4gIV9pc1N0cmluZyh2YWwpICYmICFfaXNVbmRlZmluZWQodmFsLmxlbmd0aCk7XHJcbn07XHJcbiIsIlxyXG4vKipcclxuICogQGltcG9ydHNcclxuICovXHJcbmltcG9ydCBfaXNBcnJheSBmcm9tICcuLi9qcy9pc0FycmF5LmpzJztcclxuaW1wb3J0IF9pc1N0cmluZyBmcm9tICcuLi9qcy9pc1N0cmluZy5qcyc7XHJcblxyXG4vKipcclxuICogUmV0dXJuIGFuIG9iamVjdCBmb3IgdGhlIGdpdmVuIHBhaXIocykgb2YgaW5wdXQuXHJcbiAqXHJcbiAqIEBwYXJhbSBzdHJpbmd8YXJyYXkgXHRcdFx0a2V5XHJcbiAqIEBwYXJhbSBtaXhlZHxhcnJheVx0XHRcdHZhbCBcclxuICpcclxuICogQHJldHVybiBvYmplY3RcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGtleSwgdmFsID0gbnVsbCkge1xyXG5cdHZhciBvYmogPSB7fTtcclxuXHRpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xyXG5cdFx0aWYgKF9pc1N0cmluZyhrZXkpKSB7XHJcblx0XHRcdG9ialtrZXldID0gdmFsO1xyXG5cdFx0fSBlbHNlIGlmIChfaXNBcnJheShrZXkpICYmIF9pc0FycmF5KHZhbCkpIHtcclxuXHRcdFx0a2V5LmZvckVhY2goKGssIGkpID0+IG9ialtrXSA9IHZhbFtpXSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBvYmo7XHJcbn07XHJcbiIsIlxyXG4vKipcclxuICogVGVsbHMgaWYgdmFsIGlzIG9mIHR5cGUgXCJzdHJpbmdcIiBvciBhIG51bWVyaWMgc3RyaW5nLlxyXG4gKiBUaGlzIGhvbGRzIHRydWUgZm9yIGJvdGggbnVtYmVycyBhbmQgbnVtZXJpYyBzdHJpbmdzLlxyXG4gKlxyXG4gKiBAcGFyYW0gc3RyaW5nIFx0dmFsXHJcbiAqXHJcbiAqIEByZXR1cm4gYm9vbFxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsKSB7XHJcblx0cmV0dXJuIHZhbCAhPT0gdHJ1ZSAmJiB2YWwgIT09IGZhbHNlICYmIHZhbCAhPT0gbnVsbCAmJiB2YWwgIT09ICcnICYmICFpc05hTih2YWwgKiAxKTtcclxufTtcclxuIiwiXHJcbi8qKlxyXG4gKiBAaW1wb3J0c1xyXG4gKi9cclxuaW1wb3J0IF9pc1R5cGVGdW5jdGlvbiBmcm9tICcuL2lzVHlwZUZ1bmN0aW9uLmpzJztcclxuXHJcbi8qKlxyXG4gKiBUZWxscyBpZiB2YWwgaXMgb2YgdHlwZSBcImZ1bmN0aW9uXCIuXHJcbiAqXHJcbiAqIEBwYXJhbSBvYmplY3QgXHRcdHZhbFxyXG4gKlxyXG4gKiBAcmV0dXJuIGJvb2xcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbCkge1xyXG5cdHJldHVybiBfaXNUeXBlRnVuY3Rpb24odmFsKSB8fCAodmFsICYmIHt9LnRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgZnVuY3Rpb25dJyk7XHJcbn07XHJcbiIsIlxyXG4vKipcclxuICogVGVsbHMgaWYgdmFsIGlzIG9mIHR5cGUgXCJmdW5jdGlvblwiLlxyXG4gKiBUaGlzIGhvbGRzIHRydWUgZm9yIGJvdGggcmVndWxhciBmdW5jdGlvbnMgYW5kIGNsYXNzZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSBvYmplY3RcdCBcdHZhbFxyXG4gKlxyXG4gKiBAcmV0dXJuIGJvb2xcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbCkge1xyXG5cdHJldHVybiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nO1xyXG59O1xyXG4iLCJcclxuLyoqXHJcbiAqIEBpbXBvcnRzXHJcbiAqL1xyXG5pbXBvcnQgX2lzVHlwZU9iamVjdCBmcm9tICcuLi9qcy9pc1R5cGVPYmplY3QuanMnO1xyXG5pbXBvcnQgX2lzTnVtZXJpYyBmcm9tICcuLi9qcy9pc051bWVyaWMuanMnO1xyXG5cclxuLyoqXHJcbiAqIExvb3BzIHRocnUgb2JqIGZsYXRseSB3aXRoIGEgY2FsbGJhY2sgZnVuY3Rpb24uXHJcbiAqIFN0b3BzIHdoZW4gY2FsbGJhY2sgcmV0dXJucyBhIG5vbi11bmRlZmluZWQgdmFsdWUuXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheXxvYmplY3QgXHRcdFx0b2JqIFx0XHRcdFRoZSBhcnJheSBvciBvYmplY3QgdG8gaXRlcmF0ZS5cclxuICogQHBhcmFtIGZ1bmN0aW9uIFx0XHRcdFx0Y2FsbGJhY2sgXHRcdFRoZSBjYWxsYmFjayBmdW5jdGlvbi5cclxuICpcclxuICogQHJldHVybiBtaXhlZHxudWxsXHRcdFx0QW55IG5vbi1udWxsIHJldHVybiBmcm9tIGNhbGxiYWNrXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihvYmosIGNhbGxiYWNrKSB7XHJcblx0dmFyIHJldHVyblZhbHVlID0gdW5kZWZpbmVkO1xyXG5cdGlmIChfaXNUeXBlT2JqZWN0KG9iaikpIHtcclxuXHRcdE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaCgoaywgaSkgPT4ge1xyXG5cdFx0XHRpZiAocmV0dXJuVmFsdWUgIT09IGZhbHNlKSB7XHJcblx0XHRcdFx0cmV0dXJuVmFsdWUgPSBjYWxsYmFjayhfaXNOdW1lcmljKGspID8gcGFyc2VGbG9hdChrKSA6IGssIG9ialtrXSwgaSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHRyZXR1cm4gcmV0dXJuVmFsdWU7XHJcbn07XHJcbiIsIlxyXG4vKipcclxuICogQGltcG9ydHNcclxuICovXHJcbmltcG9ydCBfaXNVbmRlZmluZWQgZnJvbSAnQHdlYi1uYXRpdmUtanMvY29tbW9ucy9qcy9pc1VuZGVmaW5lZC5qcyc7XHJcbmltcG9ydCBfaXNPYmplY3QgZnJvbSAnQHdlYi1uYXRpdmUtanMvY29tbW9ucy9qcy9pc09iamVjdC5qcyc7XHJcbmltcG9ydCBfZWFjaCBmcm9tICdAd2ViLW5hdGl2ZS1qcy9jb21tb25zL29iai9lYWNoLmpzJztcclxuXHJcbi8qKlxyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogVGhlIEV2ZW50IGNsYXNzXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHtcclxuXHRcclxuXHQvKipcclxuXHQgKiBJbml0aWFsaXplcyB0aGUgaW5zdGFuY2UuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0gYXJyYXl8b2JqZWN0XHRcdHRhcmdldFxyXG5cdCAqIEBwYXJhbSBvYmplY3RcdFx0XHRkZXRhaWxzXHJcblx0ICpcclxuXHQgKiBAcmV0dXJuIHZvaWRcclxuXHQgKi9cclxuXHRjb25zdHJ1Y3Rvcih0YXJnZXQsIGRldGFpbHMgPSB7fSkge1xyXG5cdFx0dGhpcy4kID0ge307XHJcblx0XHR0aGlzLiQudGFyZ2V0ID0gdGFyZ2V0O1xyXG5cdFx0dGhpcy4kLmRldGFpbHMgPSBkZXRhaWxzO1xyXG5cdFx0dGhpcy4kLnByb3BhZ2F0aW9uU3RvcHBlZCA9IGZhbHNlO1xyXG5cdFx0dGhpcy4kLmRlZmF1bHRQcmV2ZW50ZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMuJC5wcm9taXNlc0luc3RhbmNlID0gbnVsbDtcclxuXHRcdHRoaXMuJC5wcm9taXNlcyA9IFtdO1xyXG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHRcdF9lYWNoKGRldGFpbHMsIChwcm9wLCB2YWx1ZSkgPT4ge1xyXG5cdFx0XHRpZiAocHJvcCAhPT0gJyQnKSB7XHJcblx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIHByb3AsIHt2YWx1ZX0pO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldHMgdGhlIFwidGFyZ2V0XCIgb2JqZWN0LlxyXG5cdCAqXHJcblx0ICogQHJldHVybiBhcnJheXxvYmplY3RcclxuXHQgKi9cclxuXHRnZXQgdGFyZ2V0KCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJC50YXJnZXQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXRzIHRoZSBcImRldGFpbHNcIiBvYmplY3QuXHJcblx0ICpcclxuXHQgKiBAcmV0dXJuIG9iamVjdFxyXG5cdCAqL1xyXG5cdGdldCBkZXRhaWxzKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJC5kZXRhaWxzO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQgKiBSRVNQT05TRSBIQU5ETEVSU1xyXG5cdCAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0ICovXHJcblxyXG5cdC8qKlxyXG5cdCAqIFN0b3BzIHRoZSBldm50IGZyb20gcmVhY2hpbmcgb3RoZXIgbGlzdGVuZXJzLlxyXG5cdCAqXHJcblx0ICogQHJldHVybiBib29sXHJcblx0ICovXHJcblx0c3RvcFByb3BhZ2F0aW9uKCkge1xyXG5cdFx0dGhpcy4kLnByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7XHJcblx0fVxyXG5cdFx0XHJcblx0LyoqXHJcblx0ICogKFJlYWRvbmx5KSB0ZWxscyBpZiBzdG9wUHJvcGFnYXRpb24oKSBoYXMgYmVlbiBjYWxsZWQuXHJcblx0ICpcclxuXHQgKiBAcmV0dXJuIGJvb2xcclxuXHQgKi9cclxuXHRnZXQgcHJvcGFnYXRpb25TdG9wcGVkKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJC5wcm9wYWdhdGlvblN0b3BwZWQ7XHJcblx0fVxyXG5cdFx0XHJcblx0LyoqXHJcblx0ICogU2V0cyBhIGRpc3Bvc2l0aW9uIHRoYXQgYXNrcyBldmVudCBpbml0aWF0b3Igbm90IHRvXHJcblx0ICogcHJvY2VlZCB3aXRoIGRlZmF1bHQgYWN0aW9uLlxyXG5cdCAqXHJcblx0ICogQHJldHVybiB2b2lkXHJcblx0ICovXHJcblx0cHJldmVudERlZmF1bHQoKSB7XHJcblx0XHR0aGlzLiQuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XHJcblx0fVxyXG5cdFx0XHJcblx0LyoqXHJcblx0ICogKFJlYWRvbmx5KSB0ZWxscyBpZiBwcmV2ZW50RGVmYXVsdCgpIGhhcyBiZWVuIGNhbGxlZC5cclxuXHQgKlxyXG5cdCAqIEByZXR1cm4gYm9vbFxyXG5cdCAqL1xyXG5cdGdldCBkZWZhdWx0UHJldmVudGVkKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuJC5kZWZhdWx0UHJldmVudGVkO1xyXG5cdH1cclxuXHRcdFxyXG5cdC8qKlxyXG5cdCAqIFNldHMgYSBQcm9taXNlIGRpc3Bvc2l0aW9uLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIFByb21pc2VcdHByb21pc2VcclxuXHQgKlxyXG5cdCAqIEByZXR1cm4gdm9pZFxyXG5cdCAqL1xyXG5cdHByb21pc2UocHJvbWlzZSkge1xyXG5cdFx0aWYgKCEocHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UpKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignRXZlbnQucHJvbWlzZSgpIG11c3QgYmUgY2FsbGVkIHdpdGggYSBQcm9taXNlLicpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy4kLnByb21pc2VzLnB1c2gocHJvbWlzZSk7XHJcblx0XHR0aGlzLiQucHJvbWlzZXNJbnN0YW5jZSA9IG51bGw7XHJcblx0fVxyXG5cdFx0XHJcblx0LyoqXHJcblx0ICogKFJlYWRvbmx5KSByZXR1cm5zIGFsbCBwcm9taXNlcy5cclxuXHQgKlxyXG5cdCAqIEByZXR1cm4gUHJvbWlzZXxudWxsXHJcblx0ICovXHJcblx0Z2V0IHByb21pc2VzKCkge1xyXG5cdFx0aWYgKCF0aGlzLiQucHJvbWlzZXNJbnN0YW5jZSAmJiB0aGlzLiQucHJvbWlzZXMubGVuZ3RoKSB7XHJcblx0XHRcdHRoaXMuJC5wcm9taXNlc0luc3RhbmNlID0gUHJvbWlzZS5hbGwodGhpcy4kLnByb21pc2VzKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzLiQucHJvbWlzZXNJbnN0YW5jZTtcclxuXHR9XHJcblx0XHRcclxuXHQvKipcclxuXHQgKiBFdmFsdWF0ZXMgdGhlIGdpdmVuIGRpc3Bvc2l0aW9uIHZhbHVlIGFuZFxyXG5cdCAqIGNhbGxzIGFuIGFwcHJvcHJpYXRlIGRpc3Bvc2l0aW9uIG1ldGhvZC5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbXMgbWl4ZWQgXHRyc3Buc1xyXG5cdCAqXHJcblx0ICogQHJldHVybiB2b2lkXHJcblx0ICovXHJcblx0cmVzcG9uc2UocnNwbnMpIHtcclxuXHRcdHZhciBwcm9tcztcclxuXHRcdHZhciBpc0V2ZW50ID0gX2lzT2JqZWN0KHJzcG5zKSAmJiAhX2lzVW5kZWZpbmVkKHJzcG5zLnByb3BhZ2F0aW9uU3RvcHBlZCkgJiYgIV9pc1VuZGVmaW5lZChyc3Bucy5kZWZhdWx0UHJldmVudGVkKVxyXG5cdFx0aWYgKChyc3BucyA9PT0gZmFsc2UpIHx8IChpc0V2ZW50ICYmIHJzcG5zLnByb3BhZ2F0aW9uU3RvcHBlZCkpIHtcclxuXHRcdFx0dGhpcy5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdH0gZWxzZSBpZiAoKHJzcG5zID09PSBmYWxzZSkgfHwgKGlzRXZlbnQgJiYgcnNwbnMuZGVmYXVsdFByZXZlbnRlZCkpIHtcclxuXHRcdFx0dGhpcy5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0fSBlbHNlIGlmICgocnNwbnMgaW5zdGFuY2VvZiBQcm9taXNlICYmIChwcm9tcyA9IHJzcG5zKSlcclxuXHRcdHx8IChpc0V2ZW50ICYmIChwcm9tcyA9IHJzcG5zLnByb21pc2VzKSkpIHtcclxuXHRcdFx0dGhpcy5wcm9taXNlKHByb21zKTtcclxuXHRcdH1cclxuXHR9XHJcbn07IiwiXHJcbi8qKlxyXG4gKiBAaW1wb3J0c1xyXG4gKi9cclxuaW1wb3J0IEV2ZW50IGZyb20gJy4vRXZlbnQuanMnO1xyXG5cclxuLyoqXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiBUaGUgUXVlcnlFdmVudCBjbGFzc1xyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICovXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEV2ZW50IHtcclxuXHRcclxuXHQvKipcclxuXHQgKiBJbml0aWFsaXplcyB0aGUgaW5zdGFuY2UuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0gYXJyYXl8b2JqZWN0XHRcdHRhcmdldFxyXG5cdCAqIEBwYXJhbSBvYmplY3RcdFx0XHRkZXRhaWxzXHJcblx0ICpcclxuXHQgKiBAcmV0dXJuIHZvaWRcclxuXHQgKi9cclxuXHRjb25zdHJ1Y3Rvcih0YXJnZXQsIGRldGFpbHMgPSB7fSkge1xyXG5cdFx0c3VwZXIodGFyZ2V0LCBkZXRhaWxzKTtcclxuXHR9XHJcbn07IiwiXHJcbi8qKlxyXG4gKiBUZWxscyBpZiB2YWwgaXMgb2YgdHlwZSBcIm51bWJlclwiLlxyXG4gKlxyXG4gKiBAcGFyYW0gc3RyaW5nIFx0dmFsXHJcbiAqXHJcbiAqIEByZXR1cm4gYm9vbFxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsKSB7XHJcblx0cmV0dXJuIHR5cGVvZiB2YWwgPT09ICdudW1iZXInO1xyXG59O1xyXG4iLCJcclxuLyoqXHJcbiAqIEBpbXBvcnRzXHJcbiAqL1xyXG5pbXBvcnQgX2lzT2JqZWN0IGZyb20gJy4vaXNPYmplY3QuanMnO1xyXG5cclxuLyoqXHJcbiAqIFRlbGxzIGlmIGFuIG9iamVjdCBpcyBkaXJlY3QgaW5zdGFuY2Ugb2YgT2JqZWN0LnByb3RvdHlwZS5cclxuICogUXVpdGUgdXNlZnVsIGluIGRpZmZlcmVudGlhdGluZyBuYXRpdmUgb2JqZWN0cyBhbmQgY2xhc3MgaW5zdGFuY2VzIGZyb20gcGxhaW4gb2JqZWN0cyAoe30pLlxyXG4gKlxyXG4gKiBAcGFyYW0gb2JqZWN0IFx0b2JqXHJcbiAqXHJcbiAqIEByZXR1cm4gYm9vbFxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ob2JqKSB7XHJcblx0cmV0dXJuIF9pc09iamVjdChvYmopICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopID09PSBPYmplY3QucHJvdG90eXBlO1xyXG59O1xyXG4iLCJcclxuLyoqXHJcbiAqIFRlbGxzIGlmIHZhbCBpcyB1bmRlZmluZWQgb3IgaXMgb2YgdHlwZSBcImJvb2xlYW5cIi5cclxuICpcclxuICogQHBhcmFtIHN0cmluZyBcdHZhbFxyXG4gKlxyXG4gKiBAcmV0dXJuIGJvb2xcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbCkge1xyXG5cdHJldHVybiB2YWwgPT09IHRydWUgfHwgdmFsID09PSBmYWxzZTtcclxufTtcclxuIiwiXHJcbi8qKlxyXG4gKiBAaW1wb3J0c1xyXG4gKi9cclxuaW1wb3J0IF9pc051bWJlciBmcm9tICcuLi9qcy9pc051bWJlci5qcyc7XHJcbmltcG9ydCBfaXNBcnJheSBmcm9tICcuLi9qcy9pc0FycmF5LmpzJztcclxuaW1wb3J0IF9pc09iamVjdCBmcm9tICcuLi9qcy9pc09iamVjdC5qcyc7XHJcbmltcG9ydCBfaXNUeXBlT2JqZWN0IGZyb20gJy4uL2pzL2lzVHlwZU9iamVjdC5qcyc7XHJcbmltcG9ydCBfaXNGdW5jdGlvbiBmcm9tICcuLi9qcy9pc0Z1bmN0aW9uLmpzJztcclxuaW1wb3J0IF9pc1BsYWluT2JqZWN0IGZyb20gJy4uL2pzL2lzUGxhaW5PYmplY3QuanMnO1xyXG5pbXBvcnQgX2NvbXBhcmVDYWxsYmFjayBmcm9tICcuL2NvbXBhcmVDYWxsYmFjay5qcyc7XHJcblxyXG4vKipcclxuICogQXNzZXJ0cyAobWVtYmVycyBvZikgdGhlIGZpcnN0IHZhbHVlIGFnYWluc3QgKG1lbWJlcnMgb2YpIHN1YnNlcXVlbnQgdmFsdWVzLlxyXG4gKiBBc3NlcnRpb24gY291bGQgYmUgVFJVRSwgRkFMU0UsIG9yIGN1c3RvbS5cclxuICpcclxuICogQHBhcmFtIG1peGVkIFx0XHRcdG9iajFcclxuICogQHBhcmFtIG1peGVkIFx0XHRcdG9iajJcclxuICogQHBhcmFtIGJvb2x8ZnVuY3Rpb25cdFx0YXNzZXJ0aW9uXHJcbiAqIEBwYXJhbSBpbnRcdFx0XHRcdGRlcHRoXHJcbiAqXHJcbiAqIEByZXR1cm4gYm9vbFxyXG4gKi9cclxuY29uc3QgX2V2ZW4gPSBmdW5jdGlvbihvYmoxLCBvYmoyLCBhc3NlcnRpb24gPSB0cnVlLCBkZXB0aCA9IDEpIHtcclxuXHRpZiAoX2lzQXJyYXkob2JqMSkgJiYgX2lzQXJyYXkob2JqMikgJiYgb2JqMS5sZW5ndGggIT09IG9iajIubGVuZ3RoKSB7XHJcblx0XHRyZXR1cm4gIWFzc2VydGlvbjtcclxuXHR9XHJcblx0aWYgKF9pc09iamVjdChvYmoxKSAmJiBfaXNPYmplY3Qob2JqMikpIHtcclxuXHRcdHZhciBvYmoxS2V5cyA9IE9iamVjdC5rZXlzKG9iajEpO1xyXG5cdFx0dmFyIG9iajJLZXlzID0gT2JqZWN0LmtleXMob2JqMik7XHJcblx0XHRpZiAoIW9iajFLZXlzLmxlbmd0aCAmJiAhb2JqMktleXMubGVuZ3RoKSB7XHJcblx0XHRcdC8vIE9iamVjdHMgdGhhdCB3b24ndCBzaG93IGtleXMgbXVzdCBiZSBjb21wYXJlZCBieSBpbnN0YW5jZVxyXG5cdFx0XHQvLyBNYW55IG5hdGl2ZSBvYmplY3RzIHdvbid0LiBTbyB3ZSBjYW4ndCBqdWRnZSBieSBrZXlzIGFsb25lLlxyXG5cdFx0XHRyZXR1cm4gX2lzUGxhaW5PYmplY3Qob2JqMSkgJiYgX2lzUGxhaW5PYmplY3Qob2JqMikgXHJcblx0XHRcdFx0PyBhc3NlcnRpb25cclxuXHRcdFx0XHQ6IChvYmoxID09PSBvYmoyKSA9PT0gYXNzZXJ0aW9uO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFfZXZlbihvYmoxS2V5cywgb2JqMktleXMpKSB7XHJcblx0XHRcdHJldHVybiAhYXNzZXJ0aW9uO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRpZiAoZGVwdGggPiAwICYmICgoX2lzQXJyYXkob2JqMSkgJiYgX2lzQXJyYXkob2JqMikpIHx8IChfaXNPYmplY3Qob2JqMSkgJiYgX2lzT2JqZWN0KG9iajIpKSkpIHtcclxuXHRcdHZhciByZXN1bHQgPSBfY29tcGFyZUNhbGxiYWNrKG9iajEsIG9iajIsICh2MSwgdjIpID0+IHtcclxuXHRcdFx0cmV0dXJuIF9ldmVuKHYxLCB2MiwgYXNzZXJ0aW9uLCBkZXB0aCAtIDEpO1xyXG5cdFx0fSwgZmFsc2UvKm5ldENvbXBhcmlzb24qLywgZmFsc2UvKmNvbnRyYXN0Ki8sIHRydWUvKnJldHVybk9uRmlyc3RGYWxzZSovKTtcclxuXHRcdHJldHVybiBfaXNBcnJheShyZXN1bHQpIFxyXG5cdFx0XHQ/IHJlc3VsdC5sZW5ndGggPT09IG9iajEubGVuZ3RoICYmIHJlc3VsdC5sZW5ndGggPT09IG9iajIubGVuZ3RoIFxyXG5cdFx0XHQ6IChfaXNPYmplY3QocmVzdWx0KSAmJiBfaXNPYmplY3Qob2JqMSkgXHJcblx0XHRcdFx0PyBPYmplY3Qua2V5cyhyZXN1bHQpLmxlbmd0aCA9PT0gT2JqZWN0LmtleXMob2JqMSkubGVuZ3RoICYmIE9iamVjdC5rZXlzKHJlc3VsdCkubGVuZ3RoID09PSAgT2JqZWN0LmtleXMob2JqMikubGVuZ3RoIFxyXG5cdFx0XHRcdDogcmVzdWx0KTtcclxuXHR9XHJcblx0cmV0dXJuIF9pc0Z1bmN0aW9uKGFzc2VydGlvbikgPyBhc3NlcnRpb24ob2JqMSwgb2JqMikgOiAoXHJcblx0XHRfaXNOdW1iZXIob2JqMSkgJiYgX2lzTnVtYmVyKG9iajIpICYmIGlzTmFOKG9iajEpICYmIGlzTmFOKG9iajIpIFxyXG5cdFx0XHQ/IGFzc2VydGlvbiBcclxuXHRcdFx0OiAob2JqMSA9PT0gb2JqMikgPT09IGFzc2VydGlvblxyXG5cdCk7XHJcbn07XHJcblxyXG4vKipcclxuICogQGV4cG9ydHNcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IF9ldmVuO1xyXG4iLCJcclxuLyoqXHJcbiAqIEBpbXBvcnRzXHJcbiAqL1xyXG5pbXBvcnQgX2lzQXJyYXkgZnJvbSAnLi4vanMvaXNBcnJheS5qcyc7XHJcbmltcG9ydCBfaXNPYmplY3QgZnJvbSAnLi4vanMvaXNPYmplY3QuanMnO1xyXG5pbXBvcnQgX2lzVHlwZU9iamVjdCBmcm9tICcuLi9qcy9pc1R5cGVPYmplY3QuanMnO1xyXG5pbXBvcnQgX2lzQm9vbGVhbiBmcm9tICcuLi9qcy9pc0Jvb2xlYW4uanMnO1xyXG5pbXBvcnQgX2VhY2ggZnJvbSAnLi9lYWNoLmpzJztcclxuXHJcbi8qKlxyXG4gKiBHZXRzIHRoZSBtYXRjaChlcykgYmV0d2VlbiAobWVtYmVycyBvZikgdHdvIHZhbHVlcztcclxuICogYXNzZXJ0aW9uIG9wdGlvbmFsbHkgY3VzdG9tLlxyXG4gKlxyXG4gKiBAcGFyYW0gbWl4ZWQgXHRcdFx0b2IxXHJcbiAqIEBwYXJhbSBtaXhlZCBcdFx0XHRvYmoyXHJcbiAqIEBwYXJhbSBzdHJpbmd8ZnVuY3Rpb25cdGFzc2VydGlvblxyXG4gKiBAcGFyYW0gYm9vbFx0XHRcdFx0bmV0Q29tcGFyaXNvblxyXG4gKiBAcGFyYW0gYm9vbFx0XHRcdFx0Y29udHJhc3RcclxuICogQHBhcmFtIGJvb2xcdFx0XHRcdHJldHVybk9uRmlyc3RGYWxzZVxyXG4gKlxyXG4gKiBAcmV0dXJuIGJvb2x8YXJyYXl8b2JqZWN0XHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihvYmoxLCBvYmoyLCBhc3NlcnRpb24gPSB0cnVlLCBuZXRDb21wYXJpc29uID0gdHJ1ZSwgY29udHJhc3QgPSBmYWxzZSwgcmV0dXJuT25GaXJzdEZhbHNlID0gZmFsc2UpIHtcclxuXHRpZiAoX2lzQXJyYXkob2JqMSkgJiYgX2lzQXJyYXkob2JqMikpIHtcclxuXHRcdHZhciByZXN1bHQgPSBbXTtcclxuXHRcdHZhciBjb250biA9IHRydWU7XHJcblx0XHRvYmoxLmZvckVhY2godjEgPT4ge1xyXG5cdFx0XHRpZiAoIWNvbnRuKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdHZhciB0ZXN0UGFzcyA9IGZhbHNlO1xyXG5cdFx0XHRfZWFjaChvYmoyLCAoaywgdjIpID0+IHtcclxuXHRcdFx0XHRpZiAoIXRlc3RQYXNzIHx8IChuZXRDb21wYXJpc29uICYmIF9pc1R5cGVPYmplY3QodjEpKSkge1xyXG5cdFx0XHRcdFx0dGVzdFBhc3MgPSBhc3NlcnRpb24odjEsIHYyKTtcclxuXHRcdFx0XHRcdGlmICgoX2lzQXJyYXkodGVzdFBhc3MpICYmICF0ZXN0UGFzcy5sZW5ndGgpIHx8IChfaXNPYmplY3QodGVzdFBhc3MpICYmICFPYmplY3Qua2V5cyh0ZXN0UGFzcykubGVuZ3RoKSkge1xyXG5cdFx0XHRcdFx0XHR0ZXN0UGFzcyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYgKF9pc1R5cGVPYmplY3QodGVzdFBhc3MpICYmIG5ldENvbXBhcmlzb24pIHtcclxuXHRcdFx0XHRcdFx0Ly8gRnVydGhlciByZWN1cnNpb25zIHNob3VsZCB1c2UgdGhpcyB0ZXN0UGFzcyBhcyB2MVxyXG5cdFx0XHRcdFx0XHR2MSA9IHRlc3RQYXNzO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdGlmIChfaXNUeXBlT2JqZWN0KHRlc3RQYXNzKSkge1xyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKG5ldENvbXBhcmlzb24gPyB0ZXN0UGFzcyA6IHYxKTtcclxuXHRcdFx0fSBlbHNlIGlmICghX2lzQm9vbGVhbih0ZXN0UGFzcykpIHtcclxuXHRcdFx0XHRyZXN1bHQucHVzaCh0ZXN0UGFzcyk7XHJcblx0XHRcdH0gZWxzZSBpZiAoKGNvbnRyYXN0ICYmICF0ZXN0UGFzcykgfHwgKCFjb250cmFzdCAmJiB0ZXN0UGFzcykpIHtcclxuXHRcdFx0XHRyZXN1bHQucHVzaCh2MSk7XHJcblx0XHRcdH0gZWxzZSBpZiAocmV0dXJuT25GaXJzdEZhbHNlKSB7XHJcblx0XHRcdFx0Y29udG4gPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHRcclxuXHRpZiAoX2lzT2JqZWN0KG9iajEpICYmIF9pc09iamVjdChvYmoyKSkge1xyXG5cdFx0dmFyIHJlc3VsdCA9IHt9O1xyXG5cdFx0dmFyIGNvbnRuID0gdHJ1ZTtcclxuXHRcdE9iamVjdC5rZXlzKG9iajEpLmZvckVhY2goayA9PiB7XHJcblx0XHRcdGlmICghY29udG4pIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIHRlc3RQYXNzID0gYXNzZXJ0aW9uKG9iajFba10sIG9iajJba10pO1xyXG5cdFx0XHRpZiAoKF9pc0FycmF5KHRlc3RQYXNzKSAmJiAhdGVzdFBhc3MubGVuZ3RoKSB8fCAoX2lzT2JqZWN0KHRlc3RQYXNzKSAmJiAhT2JqZWN0LmtleXModGVzdFBhc3MpLmxlbmd0aCkpIHtcclxuXHRcdFx0XHR0ZXN0UGFzcyA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChfaXNUeXBlT2JqZWN0KHRlc3RQYXNzKSkge1xyXG5cdFx0XHRcdHJlc3VsdFtrXSA9IG5ldENvbXBhcmlzb24gPyB0ZXN0UGFzcyA6IG9iajFba107XHJcblx0XHRcdH0gZWxzZSBpZiAoIV9pc0Jvb2xlYW4odGVzdFBhc3MpKSB7XHJcblx0XHRcdFx0cmVzdWx0W2tdID0gdGVzdFBhc3M7XHJcblx0XHRcdH0gZWxzZSBpZiAoKGNvbnRyYXN0ICYmICF0ZXN0UGFzcykgfHwgKCFjb250cmFzdCAmJiB0ZXN0UGFzcykpIHtcclxuXHRcdFx0XHRyZXN1bHRba10gPSBvYmoxW2tdO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHJldHVybk9uRmlyc3RGYWxzZSkge1xyXG5cdFx0XHRcdGNvbnRuID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcbn07XHJcbiIsIlxyXG4vKipcclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIFRoZSBGaXJlYWJsZSBjbGFzc1xyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICovXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB7XHJcblx0XHJcblx0LyoqXHJcblx0ICogU2V0cyBhIFwiZGlzY29ubmVjdGVkXCIgZmxhZyBvbiB0aGUgRmlyZWFibGUuXHJcblx0ICpcclxuXHQgKiBAcmV0dXJuIHZvaWRcclxuXHQgKi9cclxuXHRkaXNjb25uZWN0KCkge1xyXG5cdFx0dGhpcy5kaXNjb25uZWN0ZWQgPSB0cnVlO1xyXG5cdH1cclxufTsiLCJcclxuLyoqXHJcbiAqIEBpbXBvcnRzXHJcbiAqL1xyXG5pbXBvcnQgX2ludGVyc2VjdCBmcm9tICdAd2ViLW5hdGl2ZS1qcy9jb21tb25zL2Fyci9pbnRlcnNlY3QuanMnO1xyXG5pbXBvcnQgX2lzVHlwZU9iamVjdCBmcm9tICdAd2ViLW5hdGl2ZS1qcy9jb21tb25zL2pzL2lzVHlwZU9iamVjdC5qcyc7XHJcbmltcG9ydCBGaXJlYWJsZSBmcm9tICcuL0ZpcmVhYmxlLmpzJztcclxuXHJcbi8qKlxyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogVGhlIEZpcmViYXNlIGNsYXNzXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHtcclxuXHRcclxuXHQvKipcclxuXHQgKiBJbml0aWFsaXplcyB0aGUgaW5zdGFuY2UuXHJcblx0ICpcclxuXHQgKiBAcmV0dXJuIHZvaWRcclxuXHQgKi9cclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuZmlyZWFibGVzID0gW107XHJcblx0XHR0aGlzLmN1cnJlbnRseUZpcmluZ0V2ZW50cyA9IFtdO1xyXG5cdH1cclxuXHRcclxuXHQvKipcclxuXHQgKiBBZGRzIGFuIEZpcmVhYmxlIGluc3RhbmNlXHJcblx0ICogd2l0aCBvcHRpb25hbCB0YWdzLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIEZpcmVhYmxlXHRcdFx0ZmlyZWFibGVcclxuXHQgKlxyXG5cdCAqIEByZXR1cm4gRmlyZWFibGVcclxuXHQgKi9cclxuXHRhZGRGaXJlYWJsZShmaXJlYWJsZSkge1xyXG5cdFx0dGhpcy5maXJlYWJsZXMucHVzaChmaXJlYWJsZSk7XHJcblx0XHRyZXR1cm4gZmlyZWFibGU7XHJcblx0fVxyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIFJlbW92ZXMgYW4gRmlyZWFibGUgaW5zdGFuY2VcclxuXHQgKiB3aXRoIG9wdGlvbmFsIHRhZ3MuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0gRmlyZWFibGVcdFx0XHRmaXJlYWJsZVxyXG5cdCAqIEBwYXJhbSBhcnJheVx0XHRcdFx0dGFnc1xyXG5cdCAqXHJcblx0ICogQHJldHVybiB2b2lkXHJcblx0ICovXHJcblx0cmVtb3ZlRmlyZWFibGUoZmlyZWFibGUsIHRhZ3MgPSBbXSkge1xyXG5cdFx0dGhpcy5maXJlYWJsZXMgPSB0aGlzLmZpcmVhYmxlcy5maWx0ZXIoX2ZpcmVhYmxlID0+IF9maXJlYWJsZSAhPT0gZmlyZWFibGUpO1xyXG5cdH1cclxuXHRcclxuXHQvKipcclxuXHQgKiBGaW5kcyB0aGUgT2JzZXJ2ZXIgaW5zdGFuY2VzXHJcblx0ICogd2l0aCB0aGUgZ2l2ZW4gcXVlcnkgcGFyYW1ldGVycy5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSBvYmplY3RcdFx0XHRxdWVyeVxyXG5cdCAqXHJcblx0ICogQHJldHVybiBhcnJheVxyXG5cdCAqL1xyXG5cdGZpbmRGaXJlYWJsZXMocXVlcnkpIHtcclxuXHRcdHJldHVybiB0aGlzLmZpcmVhYmxlcy5maWx0ZXIob2JzZXJ2ZXIgPT4ge1xyXG5cdFx0XHRyZXR1cm4gKCFxdWVyeS5oYW5kbGVyIHx8IG9ic2VydmVyLmhhbmRsZXIgPT09IHF1ZXJ5LmhhbmRsZXIpICYmICghcXVlcnkucGFyYW1zIHx8IChcclxuXHRcdFx0XHQoIXF1ZXJ5LnBhcmFtcy50eXBlIHx8IG9ic2VydmVyLnBhcmFtcy50eXBlID09PSBxdWVyeS5wYXJhbXMudHlwZSlcclxuXHRcdFx0XHQmJiAoIXF1ZXJ5LnBhcmFtcy50YWdzIHx8IF9pbnRlcnNlY3Qob2JzZXJ2ZXIucGFyYW1zLnRhZ3MgfHwgW10sIHF1ZXJ5LnBhcmFtcy50YWdzKS5sZW5ndGggPT09IHF1ZXJ5LnBhcmFtcy50YWdzLmxlbmd0aClcclxuXHRcdFx0KSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0XHJcblx0LyoqXHJcblx0ICogQ3JlYXRlIGFuIG9iamVjdCdzIGZpcmViYXNlLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIGFycmF5fG9iamVjdFx0b2JqZWN0XHJcblx0ICogQHBhcmFtIHN0cmluZ1x0XHR0eXBlXHJcblx0ICpcclxuXHQgKiBAcmV0dXJuIEZpcmViYXNlXHJcblx0ICovXHJcblx0c3RhdGljIGNyZWF0ZUZvclRhcmdldCAob2JqZWN0LCB0eXBlLCBCYXNlKSB7XHJcblx0XHRpZiAob2JqZWN0ICYmIF9pc1R5cGVPYmplY3Qob2JqZWN0KSkge1xyXG5cdFx0XHR2YXIgZmlyZWJhc2VzO1xyXG5cdFx0XHRpZiAoIShmaXJlYmFzZXMgPSBvYmplY3RbZmlyZWJhc2VLZXldKSkge1xyXG5cdFx0XHRcdGZpcmViYXNlcyA9IHt9O1xyXG5cdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsIGZpcmViYXNlS2V5LCB7XHJcblx0XHRcdFx0XHRnZXQ6KCkgPT4gZmlyZWJhc2VzLFxyXG5cdFx0XHRcdFx0c2V0OnZhbHVlID0+IHtcclxuXHRcdFx0XHRcdFx0aWYgKHZhbHVlICE9PSBmaXJlYmFzZXMpIHtcclxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0F0dGVtcHQgdG8gb3ZlcndyaXRlIHRoZSBcIicgKyBmaXJlYmFzZUtleSArICdcIiBzcGVjaWFsIHByb3BlcnR5IScpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0ZW51bWVyYWJsZTpmYWxzZSxcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRmaXJlYmFzZXNbdHlwZV0gPSB0eXBlID09PSAnbGlzdGVuZXJzJyA/IG5ldyBCYXNlKG9iamVjdCkgOiBuZXcgQmFzZTtcclxuXHRcdFx0cmV0dXJuIGZpcmViYXNlc1t0eXBlXTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0LyoqXHJcblx0ICogUmV0dXJucyBhbiBvYmplY3QncyBmaXJlYmFzZS5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSBhcnJheXxvYmplY3RcdG9iamVjdFxyXG5cdCAqIEBwYXJhbSBzdHJpbmdcdFx0dHlwZVxyXG5cdCAqXHJcblx0ICogQHJldHVybiBGaXJlYmFzZVxyXG5cdCAqL1xyXG5cdHN0YXRpYyBnZXRGb3JUYXJnZXQob2JqZWN0LCB0eXBlKSB7XHJcblx0XHR2YXIgZmlyZWJhc2VzO1xyXG5cdFx0aWYgKG9iamVjdCAmJiBfaXNUeXBlT2JqZWN0KG9iamVjdCkgJiYgKGZpcmViYXNlcyA9IG9iamVjdFtmaXJlYmFzZUtleV0pKSB7XHJcblx0XHRcdHJldHVybiBmaXJlYmFzZXNbdHlwZV07XHJcblx0XHR9XHJcblx0fVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEB2YXIgc3RyaW5nXHJcbiAqL1xyXG5jb25zdCBmaXJlYmFzZUtleSA9ICc8IHIgZSBmIGwgZSB4ID4nO1xyXG4iLCJcclxuLyoqXHJcbiAqIEBpbXBvcnRzXHJcbiAqL1xyXG5pbXBvcnQgX2lzQXJyYXkgZnJvbSAnLi4vanMvaXNBcnJheS5qcyc7XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGUgaW50ZXJzZWN0aW9uIG9mIHR3byBhcnJheXM7XHJcbiAqIG9wdGlvbmFsbHkgdXNpbmcgYSBjdXN0b20gbWF0Y2hpbmcgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheSBcdGFyclxyXG4gKiBAcGFyYW0gYXJyYXlcdCBcdGFycjJcclxuICogQHBhcmFtIGZ1bmN0aW9uIFx0Y2FsbGJhY2tcclxuICpcclxuICogQHJldHVybiBhcnJheVxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYXJyLCBhcnIyLCBjYWxsYmFjayA9IG51bGwpIHtcclxuXHRyZXR1cm4gIV9pc0FycmF5KGFycjIpID8gW10gOiBhcnIuZmlsdGVyKHZhbDEgPT4gY2FsbGJhY2sgXHJcblx0XHQ/IGFycjIuZmlsdGVyKHZhbDIgPT4gY2FsbGJhY2sodmFsMSwgdmFsMikpLmxlbmd0aCBcclxuXHRcdDogYXJyMi5pbmRleE9mKHZhbDEpICE9PSAtMVxyXG5cdCk7XHJcbn07XHJcbiIsIlxyXG4vKipcclxuICogQGltcG9ydHNcclxuICovXHJcbmltcG9ydCBfYXJyRnJvbSBmcm9tICdAd2ViLW5hdGl2ZS1qcy9jb21tb25zL2Fyci9mcm9tLmpzJztcclxuaW1wb3J0IFF1ZXJ5RXZlbnQgZnJvbSAnLi9RdWVyeUV2ZW50LmpzJztcclxuaW1wb3J0IEZpcmVhYmxlIGZyb20gJy4vRmlyZWFibGUuanMnO1xyXG5cclxuLyoqXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiBUaGUgVHJhcCBjbGFzc1xyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICovXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZpcmVhYmxlIHtcclxuXHRcclxuXHQvKipcclxuXHQgKiBJbml0aWFsaXplcyB0aGUgaW5zdGFuY2UuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0gZnVuY3Rpb25cdFx0aGFuZGxlclxyXG5cdCAqIEBwYXJhbSBvYmplY3RcdFx0cGFyYW1zXHJcblx0ICpcclxuXHQgKiBAcmV0dXJuIHZvaWRcclxuXHQgKi9cclxuXHRjb25zdHJ1Y3RvcihoYW5kbGVyLCBwYXJhbXMgPSB7fSkge1xyXG5cdFx0c3VwZXIoKTtcclxuXHRcdHRoaXMuaGFuZGxlciA9IGhhbmRsZXI7XHJcblx0XHR0aGlzLnBhcmFtcyA9IHBhcmFtcztcclxuXHJcblx0fVxyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIENhbGxzIHRoZSBvYnNlcnZlcidzIGhhbmRsZXIgZnVuY3Rpb25cclxuXHQgKiBvbiBtYXRjaGluZyB3aXRoIHRoZSBldmVudCdzIGZpZWxkcy5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSBNdXRhdGlvbkV2ZW50XHRcdFx0IFx0ZXZ0XHJcblx0ICogQHBhcmFtIGZ1bmN0aW9uXHRcdFx0XHRcdG5leHRcclxuXHQgKiBAcGFyYW0gbWl4ZWRcdFx0XHRcdFx0IFx0cmVjaWV2ZWRcclxuXHQgKlxyXG5cdCAqIEByZXR1cm4gdm9pZFxyXG5cdCAqL1xyXG5cdGZpcmUoZXZ0LCBuZXh0LCByZWNpZXZlZCkge1xyXG5cdFx0aWYgKHRoaXMuZGlzY29ubmVjdGVkIHx8ICh0aGlzLnBhcmFtcy50eXBlICYmIHRoaXMucGFyYW1zLnR5cGUgIT09IGV2dC50eXBlKSkge1xyXG5cdFx0XHRyZXR1cm4gbmV4dCguLi5fYXJyRnJvbShhcmd1bWVudHMpLnNsaWNlKDIpKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzLmhhbmRsZXIoZXZ0LCByZWNpZXZlZCwgbmV4dCk7XHJcblx0fVxyXG59OyIsIlxyXG4vKipcclxuICogQGltcG9ydHNcclxuICovXHJcbmltcG9ydCBfZXZlbiBmcm9tICdAd2ViLW5hdGl2ZS1qcy9jb21tb25zL29iai9ldmVuLmpzJztcclxuaW1wb3J0IFF1ZXJ5RXZlbnQgZnJvbSAnLi9RdWVyeUV2ZW50LmpzJztcclxuaW1wb3J0IEZpcmViYXNlIGZyb20gJy4vRmlyZWJhc2UuanMnO1xyXG5pbXBvcnQgVHJhcCBmcm9tICcuL1RyYXAuanMnO1xyXG5cclxuLyoqXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiBUaGUgUmVhY3RpdmUgY2xhc3NcclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqL1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhcEJhc2UgZXh0ZW5kcyBGaXJlYmFzZSB7XHJcblx0XHJcblx0LyoqXHJcblx0ICogRmlyZXMgYWxsIG9ic2VydmVycyB3aXRoIHRoZSBnaXZlbiBldnQgKGNoYW5nZSkuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0gRXZlbnRcdFx0XHRcdGV2dFxyXG5cdCAqIEBwYXJhbSBmdW5jdGlvblx0XHRcdGRlZmF1bHRIYW5kbGVyXHJcblx0ICpcclxuXHQgKiBAcmV0dXJuIG1peGVkXHJcblx0ICovXHJcblx0ZmlyZShldnQsIGRlZmF1bHRIYW5kbGVyID0gbnVsbCkge1xyXG5cdFx0aWYgKHRoaXMuY3VycmVudGx5RmlyaW5nRXZlbnRzLmZpbHRlcihlID0+IGUudHlwZSA9PT0gZXZ0LnR5cGUgJiYgZS5xdWVyeSA9PT0gZXZ0LnF1ZXJ5KS5sZW5ndGgpIHtcclxuXHRcdFx0cmV0dXJuIGRlZmF1bHRIYW5kbGVyID8gZGVmYXVsdEhhbmRsZXIoKSA6IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHRcdHRoaXMuY3VycmVudGx5RmlyaW5nRXZlbnRzLnB1c2goZXZ0KTtcclxuXHRcdGNvbnN0IG5leHQgPSAoaW5kZXgsIC4uLl9hcmdzKSA9PiB7XHJcblx0XHRcdHZhciB0cmFwID0gdGhpcy5maXJlYWJsZXNbaW5kZXhdO1xyXG5cdFx0XHRpZiAodHJhcCkge1xyXG5cdFx0XHRcdHJldHVybiB0cmFwLmZpcmUoZXZ0LCAoLi4uYXJncykgPT4ge1xyXG5cdFx0XHRcdFx0cmV0dXJuIG5leHQoaW5kZXggKyAxLCAuLi5hcmdzKTtcclxuXHRcdFx0XHR9LypuZXh0Ki8sIC4uLl9hcmdzKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gZGVmYXVsdEhhbmRsZXIgPyBkZWZhdWx0SGFuZGxlciguLi5fYXJncykgOiBfYXJnc1swXTtcclxuXHRcdH07XHJcblx0XHR2YXIgdmFsdWUgPSBuZXh0KDApO1xyXG5cdFx0dGhpcy5jdXJyZW50bHlGaXJpbmdFdmVudHMucG9wKCk7XHJcblx0XHRyZXR1cm4gdmFsdWU7XHJcblx0fVxyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEBpbmhlcml0ZG9jXHJcblx0ICovXHJcblx0c3RhdGljIGNyZWF0ZUZvclRhcmdldChvYmplY3QpIHtcclxuXHRcdHJldHVybiBzdXBlci5jcmVhdGVGb3JUYXJnZXQob2JqZWN0LCAndHJhcHMnLCBUcmFwQmFzZSk7XHJcblx0fVxyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEBpbmhlcml0ZG9jXHJcblx0ICovXHJcblx0c3RhdGljIGdldEZvclRhcmdldChvYmplY3QpIHtcclxuXHRcdHJldHVybiBzdXBlci5nZXRGb3JUYXJnZXQob2JqZWN0LCAndHJhcHMnKTtcclxuXHR9XHJcbn07IiwiXHJcbi8qKlxyXG4gKiBBZGRzIGFuIGl0ZW0gaWYgbm90IGFscmVhZHkgZXhpc3QuXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheSBcdGFyclxyXG4gKiBAcGFyYW0gYXJyYXlcdCBcdC4uLml0bXNcclxuICpcclxuICogQHJldHVybiBhcnJheVxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYXJyLCAuLi5pdGVtcykge1xyXG5cdGl0ZW1zLmZvckVhY2goaXRtID0+IHtcclxuXHRcdGlmIChhcnIuaW5kZXhPZihpdG0pIDwgMCkge1xyXG5cdFx0XHRhcnIucHVzaChpdG0pO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdHJldHVybiBhcnI7XHJcbn07XHJcbiIsIlxyXG4vKipcclxuICogQGltcG9ydHNcclxuICovXHJcbmltcG9ydCBfcHVzaFVuaXF1ZSBmcm9tICcuLi9hcnIvcHVzaFVuaXF1ZS5qcyc7XHJcbmltcG9ydCBfZ2V0UHJvdG90eXBlQ2hhaW4gZnJvbSAnLi9nZXRQcm90b3R5cGVDaGFpbi5qcyc7XHJcblxyXG4vKipcclxuICogRWFnZXJseSByZXRyaWV2ZXMgb2JqZWN0IG1lbWJlcnMgYWxsIGRvd24gdGhlIHByb3RvdHlwZSBjaGFpbi5cclxuICpcclxuICogQHBhcmFtIG9iamVjdFx0IFx0b2JqXHJcbiAqIEBwYXJhbSBvYmplY3RcdCBcdHVudGlsXHJcbiAqXHJcbiAqIEByZXR1cm4gYXJyYXlcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG9iaiwgdW50aWwpIHtcclxuXHR2YXIga2V5c0FsbCA9IFtdO1xyXG5cdF9nZXRQcm90b3R5cGVDaGFpbihvYmosIHVudGlsKS5mb3JFYWNoKG9iaiA9PiB7XHJcblx0XHRfcHVzaFVuaXF1ZShrZXlzQWxsLCAuLi5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopKTtcclxuXHR9KTtcclxuXHRyZXR1cm4ga2V5c0FsbDtcclxufTtcclxuIiwiXHJcbi8qKlxyXG4gKiBAaW1wb3J0c1xyXG4gKi9cclxuaW1wb3J0IF9pc0FycmF5IGZyb20gJy4uL2pzL2lzQXJyYXkuanMnO1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIHByb3RvdHlwZSBjaGFpbi5cclxuICpcclxuICogQHBhcmFtIG9iamVjdCBcdFx0b2JqXHJcbiAqIEBwYXJhbSBvYmplY3RcdCBcdHVudGlsXHJcbiAqXHJcbiAqIEByZXR1cm4gYm9vbFxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ob2JqLCB1bnRpbCkge1xyXG5cdHVudGlsID0gdW50aWwgfHwgT2JqZWN0LnByb3RvdHlwZTtcclxuXHR1bnRpbCA9IHVudGlsICYmICFfaXNBcnJheSh1bnRpbCkgPyBbdW50aWxdIDogdW50aWw7XHJcblx0Ly8gV2UgZ2V0IHRoZSBjaGFpbiBvZiBpbmhlcml0YW5jZVxyXG5cdHZhciBwcm90b3R5cGFsQ2hhaW4gPSBbXTtcclxuXHR2YXIgb2JqID0gb2JqO1xyXG5cdHdoaWxlKChvYmogJiYgKCF1bnRpbCB8fCB1bnRpbC5pbmRleE9mKG9iaikgPCAwKSAmJiBvYmoubmFtZSAhPT0gJ2RlZmF1bHQnKSkge1xyXG5cdFx0cHJvdG90eXBhbENoYWluLnB1c2gob2JqKTtcclxuXHRcdG9iaiA9IG9iaiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopIDogbnVsbDtcclxuXHR9XHJcblx0cmV0dXJuIHByb3RvdHlwYWxDaGFpbjtcclxufTtcclxuIiwiXHJcbi8qKlxyXG4gKiBAaW1wb3J0c1xyXG4gKi9cclxuaW1wb3J0IF9pc0FycmF5IGZyb20gJy4uL2pzL2lzQXJyYXkuanMnO1xyXG5pbXBvcnQgX2lzRnVuY3Rpb24gZnJvbSAnLi4vanMvaXNGdW5jdGlvbi5qcyc7XHJcbmltcG9ydCBfaXNPYmplY3QgZnJvbSAnLi4vanMvaXNPYmplY3QuanMnO1xyXG5pbXBvcnQgX2lzVHlwZU9iamVjdCBmcm9tICcuLi9qcy9pc1R5cGVPYmplY3QuanMnO1xyXG5pbXBvcnQgX2lzTnVtZXJpYyBmcm9tICcuLi9qcy9pc051bWVyaWMuanMnO1xyXG5pbXBvcnQgX2dldEFsbFByb3BlcnR5TmFtZXMgZnJvbSAnLi9nZXRBbGxQcm9wZXJ0eU5hbWVzLmpzJztcclxuXHJcbi8qKlxyXG4gICogTWVyZ2VzIHZhbHVlcyBmcm9tIHN1YnNlcXVlbnQgYXJyYXlzL29iamVjdHMgZmlyc3QgYXJyYXkvb2JqZWN0O1xyXG4gICogb3B0aW9uYWxseSByZWN1cnNpdmVcclxuICAqXHJcbiAgKiBAcGFyYW0gYXJyYXkgLi4ub2Jqc1xyXG4gICpcclxuICAqIEByZXR1cm4gdm9pZFxyXG4gICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1lcmdlQ2FsbGJhY2sob2JqcywgY2FsbGJhY2ssIGRlZXBQcm9wcyA9IGZhbHNlLCBpc1JlcGxhY2UgPSBmYWxzZSwgd2l0aFN5bWJvbHMgPSB0cnVlKSB7XHJcblx0dmFyIGRlcHRoID0gMDtcclxuXHR2YXIgb2JqMSA9IG9ianMuc2hpZnQoKTtcclxuXHRpZiAoX2lzTnVtZXJpYyhvYmoxKSB8fCBvYmoxID09PSB0cnVlIHx8IG9iajEgPT09IGZhbHNlKSB7XHJcblx0XHRkZXB0aCA9IG9iajE7XHJcblx0XHRvYmoxID0gb2Jqcy5zaGlmdCgpO1xyXG5cdH1cclxuXHRpZiAoIW9ianMubGVuZ3RoKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ19tZXJnZSgpIHJlcXVpcmVzIHR3byBvciBtb3JlIGFycmF5L29iamVjdHMuJyk7XHJcblx0fVxyXG5cdG9ianMuZm9yRWFjaCgob2JqMiwgaSkgPT4ge1xyXG5cdFx0aWYgKCFfaXNUeXBlT2JqZWN0KG9iajIpICYmICFfaXNGdW5jdGlvbihvYmoyKSkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHQoZGVlcFByb3BzID8gX2dldEFsbFByb3BlcnR5TmFtZXMob2JqMikgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmoyKSkuZm9yRWFjaChrZXkgPT4ge1xyXG5cdFx0XHR2YXIgdmFsQXRPYmoxID0gb2JqMVtrZXldO1xyXG5cdFx0XHR2YXIgdmFsQXRPYmoyID0gb2JqMltrZXldO1xyXG5cdFx0XHRpZiAoKChfaXNBcnJheSh2YWxBdE9iajEpICYmIF9pc0FycmF5KHZhbEF0T2JqMikpIHx8IChfaXNPYmplY3QodmFsQXRPYmoxKSAmJiBfaXNPYmplY3QodmFsQXRPYmoyKSkpIFxyXG5cdFx0XHQmJiAoZGVwdGggPT09IHRydWUgfHwgZGVwdGggPiAwKSkge1xyXG5cdFx0XHRcdC8vIFJFQ1VSU0UuLi5cclxuXHRcdFx0XHRvYmoxW2tleV0gPSBfaXNBcnJheSh2YWxBdE9iajEpICYmIF9pc0FycmF5KHZhbEF0T2JqMikgPyBbXSA6IHt9O1xyXG5cdFx0XHRcdG1lcmdlQ2FsbGJhY2soW19pc051bWVyaWMoZGVwdGgpID8gZGVwdGggLSAxIDogZGVwdGgsIG9iajFba2V5XSwgdmFsQXRPYmoxLCB2YWxBdE9iajJdLCBjYWxsYmFjaywgZGVlcFByb3BzLCBpc1JlcGxhY2UsIHdpdGhTeW1ib2xzKTtcclxuXHRcdFx0fSBlbHNlIGlmIChjYWxsYmFjayhrZXksIG9iajEsIG9iajIsIGkpKSB7XHJcblx0XHRcdFx0aWYgKF9pc0FycmF5KG9iajEpICYmIF9pc0FycmF5KG9iajIpKSB7XHJcblx0XHRcdFx0XHRpZiAoaXNSZXBsYWNlKSB7XHJcblx0XHRcdFx0XHRcdG9iajFba2V5XSA9IHZhbEF0T2JqMjtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdG9iajEucHVzaCh2YWxBdE9iajIpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQvLyBJbiBjYXNlIHdlJ3JlIHNldHRpbmcgYSByZWFkLW9ubHkgcHJvcGVydHlcclxuXHRcdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRcdGlmICh3aXRoU3ltYm9scykge1xyXG5cdFx0XHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmoxLCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqMiwga2V5KSk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0b2JqMVtrZXldID0gb2JqMltrZXldO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9IGNhdGNoKGUpIHt9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9KTtcclxuXHRyZXR1cm4gb2JqMTtcclxufTtcclxuIiwiXHJcbi8qKlxyXG4gKiBAaW1wb3J0c1xyXG4gKi9cclxuaW1wb3J0IF9pc0FycmF5IGZyb20gJy4uL2pzL2lzQXJyYXkuanMnO1xyXG5pbXBvcnQgX2lzRnVuY3Rpb24gZnJvbSAnLi4vanMvaXNGdW5jdGlvbi5qcyc7XHJcbmltcG9ydCBfaXNOdW1lcmljIGZyb20gJy4uL2pzL2lzTnVtZXJpYy5qcyc7XHJcbmltcG9ydCBfaXNUeXBlT2JqZWN0IGZyb20gJy4uL2pzL2lzVHlwZU9iamVjdC5qcyc7XHJcbmltcG9ydCBfbWVyZ2VDYWxsYmFjayBmcm9tICcuL21lcmdlQ2FsbGJhY2suanMnO1xyXG5cclxuLyoqXHJcbiAqIENvcGllcyBhbiBvYmplY3QuXHJcbiAqXHJcbiAqIEBwYXJhbSBvYmplY3RcdCBcdG9ialxyXG4gKiBAcGFyYW0gYXJyYXlcdFx0IFx0ZmlsdGVyXHJcbiAqXHJcbiAqIEByZXR1cm4gb2JqZWN0XHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihvYmosIGZpbHRlciA9IFtdLCB3aXRoU3ltYm9scyA9IHRydWUpIHtcclxuXHR2YXIgZGVwdGggPSAwO1xyXG5cdGlmIChfaXNOdW1lcmljKGFyZ3VtZW50c1swXSkgJiYgX2lzVHlwZU9iamVjdChhcmd1bWVudHNbMV0pKSB7XHJcblx0XHRkZXB0aCA9IGFyZ3VtZW50c1swXTtcclxuXHRcdG9iaiA9IGFyZ3VtZW50c1sxXTtcclxuXHRcdGZpbHRlciA9IGFyZ3VtZW50c1syXSB8fCBbXTtcclxuXHR9XHJcblx0cmV0dXJuIF9tZXJnZUNhbGxiYWNrKFtkZXB0aCwge30sIG9ial0sIChrZXksIG9iajEsIG9iajIpID0+IHtcclxuXHRcdHJldHVybiBfaXNGdW5jdGlvbihmaWx0ZXIpID8gZmlsdGVyKGtleSkgXHJcblx0XHRcdDogKF9pc0FycmF5KGZpbHRlcikgJiYgZmlsdGVyLmxlbmd0aCA/IGZpbHRlci5pbmRleE9mKGtleSkgPiAtMSA6IHRydWUpO1xyXG5cdH0sIGZhbHNlLypkZWVwUHJvcHMqLywgZmFsc2UvKmlzUmVwbGFjZSovLCB3aXRoU3ltYm9scyk7XHJcbn07XHJcbiIsIlxyXG4vKipcclxuICogQGltcG9ydHNcclxuICovXHJcbmltcG9ydCBfbWVyZ2VDYWxsYmFjayBmcm9tICcuL21lcmdlQ2FsbGJhY2suanMnO1xyXG5cclxuLyoqXHJcbiAgKiBNZXJnZXMgdmFsdWVzIGZyb20gc3Vic2VxdWVudCBhcnJheXMvb2JqZWN0cyBmaXJzdCBhcnJheS9vYmplY3Q7XHJcbiAgKiBvcHRpb25hbGx5IHJlY3Vyc2l2ZVxyXG4gICpcclxuICAqIEBwYXJhbSBhcnJheSAuLi5vYmpzXHJcbiAgKlxyXG4gICogQHJldHVybiB2b2lkXHJcbiAgKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oLi4ub2Jqcykge1xyXG5cdHJldHVybiBfbWVyZ2VDYWxsYmFjayhvYmpzLCAoaywgb2JqMSwgb2JqMikgPT4ge1xyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fSwgZmFsc2UvKmRlZXBQcm9wcyovLCBmYWxzZS8qaXNSZXBsYWNlKi8sIGZhbHNlLyp3aXRoU3ltYm9scyovKTtcclxufTtcclxuIiwiXHJcbi8qKlxyXG4gKiBAaW1wb3J0c1xyXG4gKi9cclxuaW1wb3J0IF9ldmVuIGZyb20gJ0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvb2JqL2V2ZW4uanMnO1xyXG5pbXBvcnQgRXZlbnQgZnJvbSAnLi9FdmVudC5qcyc7XHJcblxyXG4vKipcclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIFRoZSBNdXRhdGlvbkV2ZW50IGNsYXNzXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRXZlbnQge1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEluaXRpYWxpemVzIHRoZSBpbnN0YW5jZS5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSBhcnJheXxvYmplY3RcdFx0dGFyZ2V0XHJcblx0ICogQHBhcmFtIG9iamVjdFx0XHRcdGRldGFpbHNcclxuXHQgKlxyXG5cdCAqIEByZXR1cm4gdm9pZFxyXG5cdCAqL1xyXG5cdGNvbnN0cnVjdG9yKHRhcmdldCwgZGV0YWlscyA9IHt9KSB7XHJcblx0XHRpZiAoZGV0YWlscy5kYXRhKSB7XHJcblx0XHRcdGRldGFpbHMuZmllbGRzID0gT2JqZWN0LmtleXMoZGV0YWlscy5kYXRhKTtcclxuXHRcdH1cclxuXHRcdHN1cGVyKHRhcmdldCwgZGV0YWlscyk7XHJcblx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdFx0aWYgKHRoaXMuc3JjRXZ0KSB7XHJcblx0XHRcdHRoaXMuZGF0YUV2ZW4gPSB0aGlzLnNyY0V2dC5kYXRhRXZlbjtcclxuXHRcdFx0dGhpcy5vcmlnaW5hdGluZ1RhcmdldCA9IHRoaXMuc3JjRXZ0Lm9yaWdpbmF0aW5nVGFyZ2V0O1xyXG5cdFx0XHR0aGlzLm9yaWdpbmF0aW5nVHlwZSA9IHRoaXMuc3JjRXZ0Lm9yaWdpbmF0aW5nVHlwZTtcclxuXHRcdFx0dGhpcy5vcmlnaW5hdGluZ0ZpZWxkcyA9IFtdO1xyXG5cdFx0XHR0aGlzLm9yaWdpbmF0aW5nRGF0YSA9IHt9O1xyXG5cdFx0XHR0aGlzLl9vcmlnaW5hdGluZ0RhdGEgPSB7fTtcclxuXHRcdFx0dmFyIGZpZWxkID0gdGhpcy5maWVsZHNbMF07XHJcblx0XHRcdE9iamVjdC5rZXlzKHRoaXMuc3JjRXZ0Lm9yaWdpbmF0aW5nRGF0YSkuZm9yRWFjaChwYXRoID0+IHtcclxuXHRcdFx0XHR2YXIgX3BhdGggPSBmaWVsZCArICcuJyArIHBhdGg7XHJcblx0XHRcdFx0dGhpcy5vcmlnaW5hdGluZ0ZpZWxkcy5wdXNoKF9wYXRoKTtcclxuXHRcdFx0XHR0aGlzLm9yaWdpbmF0aW5nRGF0YVtfcGF0aF0gPSB0aGlzLnNyY0V2dC5vcmlnaW5hdGluZ0RhdGFbcGF0aF07XHJcblx0XHRcdFx0dGhpcy5fb3JpZ2luYXRpbmdEYXRhW19wYXRoXSA9IHRoaXMuc3JjRXZ0Ll9vcmlnaW5hdGluZ0RhdGFbcGF0aF07XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR0aGlzLm9yaWdpbmF0aW5nQ3JlYXRlZCA9IHRoaXMuc3JjRXZ0Lm9yaWdpbmF0aW5nQ3JlYXRlZDtcclxuXHRcdFx0dGhpcy5vcmlnaW5hdGluZ0RlbGV0ZWQgPSB0aGlzLnNyY0V2dC5vcmlnaW5hdGluZ0RlbGV0ZWQ7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmRhdGFFdmVuID0gX2V2ZW4odGhpcy5kYXRhLCB0aGlzLl9kYXRhKTtcclxuXHRcdFx0dGhpcy5vcmlnaW5hdGluZ1RhcmdldCA9IHRoaXMudGFyZ2V0O1xyXG5cdFx0XHR0aGlzLm9yaWdpbmF0aW5nVHlwZSA9IHRoaXMudHlwZTtcclxuXHRcdFx0dGhpcy5vcmlnaW5hdGluZ0ZpZWxkcyA9IHRoaXMuZmllbGRzO1xyXG5cdFx0XHR0aGlzLm9yaWdpbmF0aW5nRGF0YSA9IHRoaXMuZGF0YTtcclxuXHRcdFx0dGhpcy5fb3JpZ2luYXRpbmdEYXRhID0gdGhpcy5fZGF0YTtcclxuXHRcdFx0dGhpcy5vcmlnaW5hdGluZ0NyZWF0ZWQgPSB0aGlzLmNyZWF0ZWQ7XHJcblx0XHRcdHRoaXMub3JpZ2luYXRpbmdEZWxldGVkID0gdGhpcy5kZWxldGVkO1xyXG5cdFx0fVxyXG5cdH1cclxufTsiLCJcclxuLyoqXHJcbiAqIEBpbXBvcnRzXHJcbiAqL1xyXG5pbXBvcnQgX2V2ZW4gZnJvbSAnQHdlYi1uYXRpdmUtanMvY29tbW9ucy9vYmovZXZlbi5qcyc7XHJcbmltcG9ydCBfYXJyRnJvbSBmcm9tICdAd2ViLW5hdGl2ZS1qcy9jb21tb25zL2Fyci9mcm9tLmpzJztcclxuaW1wb3J0IF9pbnRlcnNlY3QgZnJvbSAnQHdlYi1uYXRpdmUtanMvY29tbW9ucy9hcnIvaW50ZXJzZWN0LmpzJztcclxuaW1wb3J0IF9jb25jYXRVbmlxdWUgZnJvbSAnQHdlYi1uYXRpdmUtanMvY29tbW9ucy9hcnIvY29uY2F0VW5pcXVlLmpzJztcclxuaW1wb3J0IF9leGNsdWRlIGZyb20gJ0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvYXJyL2V4Y2x1ZGUuanMnO1xyXG5pbXBvcnQgX2lzVW5kZWZpbmVkIGZyb20gJ0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvanMvaXNVbmRlZmluZWQuanMnO1xyXG5pbXBvcnQgX2lzTnVsbCBmcm9tICdAd2ViLW5hdGl2ZS1qcy9jb21tb25zL2pzL2lzTnVsbC5qcyc7XHJcbmltcG9ydCBNdXRhdGlvbkV2ZW50IGZyb20gJy4vTXV0YXRpb25FdmVudC5qcyc7XHJcbmltcG9ydCBGaXJlYmFzZSBmcm9tICcuL0ZpcmViYXNlLmpzJztcclxuXHJcbi8qKlxyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogVGhlIFJlYWN0aXZlIGNsYXNzXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9ic2VydmVyQmFzZSBleHRlbmRzIEZpcmViYXNlIHtcclxuXHRcclxuXHQvKipcclxuXHQgKiBGaW5kcyB0aGUgT2JzZXJ2ZXIgaW5zdGFuY2VzXHJcblx0ICogd2l0aCB0aGUgZ2l2ZW4gcXVlcnkgcGFyYW1ldGVycy5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSBvYmplY3RcdFx0XHRxdWVyeVxyXG5cdCAqXHJcblx0ICogQHJldHVybiBhcnJheVxyXG5cdCAqL1xyXG5cdGZpbmRGaXJlYWJsZXMocXVlcnkpIHtcclxuXHRcdHJldHVybiBzdXBlci5maW5kRmlyZWFibGVzKHF1ZXJ5KS5maWx0ZXIob2JzZXJ2ZXIgPT4ge1xyXG5cdFx0XHRyZXR1cm4gX2lzTnVsbChxdWVyeS5maWVsZHMpIHx8IF9pc1VuZGVmaW5lZChxdWVyeS5maWVsZHMpIHx8IF9ldmVuKF9hcnJGcm9tKG9ic2VydmVyLmZpZWxkcyksIF9hcnJGcm9tKHF1ZXJ5LmZpZWxkcykpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEZpcmVzIGFsbCBvYnNlcnZlcnMgd2l0aCB0aGUgZ2l2ZW4gZXZ0IChjaGFuZ2UpLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIEV2ZW50XHRcdFx0XHRldnRcclxuXHQgKlxyXG5cdCAqIEByZXR1cm4gRXZlbnRcclxuXHQgKi9cclxuXHRmaXJlKGV2dCkge1xyXG5cdFx0aWYgKHRoaXMuY3VycmVudGx5RmlyaW5nRXZlbnRzLmZpbHRlcihlID0+IGUudHlwZSA9PT0gZXZ0LnR5cGUgJiYgZS5maWVsZHMgPT09IGV2dC5maWVsZHMpLmxlbmd0aCkge1xyXG5cdFx0XHRyZXR1cm4gZXZ0O1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5jdXJyZW50bHlGaXJpbmdFdmVudHMucHVzaChldnQpO1xyXG5cdFx0dGhpcy5maXJlYWJsZXMuZm9yRWFjaChvYnNlcnZlciA9PiB7XHJcblx0XHRcdGlmIChldnQucHJvcGFnYXRpb25TdG9wcGVkIHx8IChvYnNlcnZlci5wYXJhbXMudHlwZSAmJiBvYnNlcnZlci5wYXJhbXMudHlwZSAhPT0gZXZ0LnR5cGUpKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdG9ic2VydmVyLmZpcmUoZXZ0KTtcclxuXHRcdH0pO1xyXG5cdFx0dGhpcy5jdXJyZW50bHlGaXJpbmdFdmVudHMucG9wKCk7XHJcblx0XHRyZXR1cm4gZXZ0O1xyXG5cdH1cclxuXHRcclxuXHQvKipcclxuXHQgKiBAaW5oZXJpdGRvY1xyXG5cdCAqL1xyXG5cdHN0YXRpYyBjcmVhdGVGb3JUYXJnZXQob2JqZWN0KSB7XHJcblx0XHRyZXR1cm4gc3VwZXIuY3JlYXRlRm9yVGFyZ2V0KG9iamVjdCwgJ29ic2VydmVycycsIE9ic2VydmVyQmFzZSk7XHJcblx0fVxyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEBpbmhlcml0ZG9jXHJcblx0ICovXHJcblx0c3RhdGljIGdldEZvclRhcmdldChvYmplY3QpIHtcclxuXHRcdHJldHVybiBzdXBlci5nZXRGb3JUYXJnZXQob2JqZWN0LCAnb2JzZXJ2ZXJzJyk7XHJcblx0fVxyXG59OyIsIlxyXG4vKipcclxuICogQGltcG9ydHNcclxuICovXHJcbmltcG9ydCBfaXNOdWxsIGZyb20gJ0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvanMvaXNOdWxsLmpzJztcclxuaW1wb3J0IF9pc0Z1bmN0aW9uIGZyb20gJ0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvanMvaXNGdW5jdGlvbi5qcyc7XHJcbmltcG9ydCBfaXNUeXBlT2JqZWN0IGZyb20gJ0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvanMvaXNUeXBlT2JqZWN0LmpzJztcclxuaW1wb3J0IF9pc1VuZGVmaW5lZCBmcm9tICdAd2ViLW5hdGl2ZS1qcy9jb21tb25zL2pzL2lzVW5kZWZpbmVkLmpzJztcclxuaW1wb3J0IE9ic2VydmVyQmFzZSBmcm9tICcuL2ludGVybmFsL09ic2VydmVyQmFzZS5qcyc7XHJcblxyXG4vKipcclxuICogUmVtb3ZlcyBhbiBvYnNlcnZlciBmcm9tIGFuIG9iamVjdCdzIGZpcmViYXNlLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXl8b2JqZWN0XHRcdFx0XHRvYmplY3RcclxuICogQHBhcmFtIHN0cmluZ3xhcnJheXxmdW5jdGlvblx0XHRmaWVsZHNcclxuICogQHBhcmFtIGZ1bmN0aW9uXHRcdFx0XHRcdG9yaWdpbmFsQ2FsbGJhY2tcclxuICogQHBhcmFtIG9iamVjdFx0XHRcdFx0XHRwYXJhbXNcclxuICpcclxuICogQHJldHVybiB2b2lkXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihvYmplY3QsIGZpZWxkcywgb3JpZ2luYWxDYWxsYmFjayA9IG51bGwsIHBhcmFtcyA9IHt9KSB7XHJcblx0aWYgKCFvYmplY3QgfHwgIV9pc1R5cGVPYmplY3Qob2JqZWN0KSkge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKCdPYmplY3QgbXVzdCBiZSBvZiB0eXBlIG9iamVjdCEnKTtcclxuXHR9XHJcblx0aWYgKF9pc0Z1bmN0aW9uKGZpZWxkcykgfHwgX2lzTnVsbChmaWVsZHMpIHx8IF9pc1VuZGVmaW5lZChmaWVsZHMpKSB7XHJcblx0XHRwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IG9yaWdpbmFsQ2FsbGJhY2sgOiB7fTtcclxuXHRcdG9yaWdpbmFsQ2FsbGJhY2sgPSBmaWVsZHM7XHJcblx0XHRmaWVsZHMgPSBudWxsO1xyXG5cdH1cclxuXHR2YXIgZmlyZWJhc2U7XHJcblx0aWYgKGZpcmViYXNlID0gT2JzZXJ2ZXJCYXNlLmdldEZvclRhcmdldChvYmplY3QpKSB7XHJcblx0XHRmaXJlYmFzZS5maW5kRmlyZWFibGVzKHtoYW5kbGVyOm9yaWdpbmFsQ2FsbGJhY2ssIGZpZWxkcywgcGFyYW1zfSkuZm9yRWFjaChvYnNlcnZlciA9PiB7XHJcblx0XHRcdGZpcmViYXNlLnJlbW92ZUZpcmVhYmxlKG9ic2VydmVyKTtcclxuXHRcdH0pO1xyXG5cdH1cclxufVxyXG4iLCJcclxuLyoqXHJcbiAqIEBpbXBvcnRzXHJcbiAqL1xyXG5pbXBvcnQgdW5vYnNlcnZlIGZyb20gJy4vdW5vYnNlcnZlLmpzJztcclxuXHJcbi8qKlxyXG4gKiBVbmJ1YmJsZSBoZWxwZXJcclxuICpcclxuICogQHBhcmFtIGFycmF5fG9iamVjdFx0dGFyZ2V0XHJcbiAqIEBwYXJhbSBzdHJpbmdcdFx0ZmllbGRcclxuICogQHBhcmFtIGFycmF5fG9iamVjdFx0b2JqZWN0XHJcbiAqXHJcbiAqIEByZXR1cm4gdm9pZFxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odGFyZ2V0LCBmaWVsZCwgb2JqZWN0KSB7XHJcblx0dW5vYnNlcnZlKG9iamVjdCwgbnVsbCwge3RhZ3M6WycjZS1idWJibGluZycsIGZpZWxkLCB0YXJnZXRdfSk7XHJcbn1cclxuIiwiXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSB2YWwncyB0eXBlLlxyXG4gKlxyXG4gKiBAcGFyYW0gc3RyaW5nIFx0dmFsXHJcbiAqXHJcbiAqIEByZXR1cm4gc3RyaW5nXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWwpIHtcclxuXHRyZXR1cm4gdHlwZW9mIHZhbDtcclxufTtcclxuIiwiXHJcbi8qKlxyXG4gKiBAaW1wb3J0c1xyXG4gKi9cclxuaW1wb3J0IF9pc1R5cGVPYmplY3QgZnJvbSAnLi4vanMvaXNUeXBlT2JqZWN0LmpzJztcclxuaW1wb3J0IF9pc1VuZGVmaW5lZCBmcm9tICcuLi9qcy9pc1VuZGVmaW5lZC5qcyc7XHJcbmltcG9ydCBfaXNOdWxsIGZyb20gJy4uL2pzL2lzTnVsbC5qcyc7XHJcbmltcG9ydCBfYXJyRnJvbSBmcm9tICcuLi9hcnIvZnJvbS5qcyc7XHJcblxyXG4vKipcclxuICogUmV0cmlldmVzIHRoZSB2YWx1ZSBhdCB0aGUgZ2l2ZW4gcGF0aC5cclxuICpcclxuICogQSByZXR1cm4gdmFsdWUgb2YgdW5kZWZpbmVkIGlzIGFtYmlndW91cywgYW5kIGNhbiBtZWFuIGVpdGhlciB0aGF0IHRoZVxyXG4gKiBwYXRoIGRvZXMgbm90IGV4aXN0LCBvciB0aGF0IHRoZSBwYXRoIGFjdHVhbGx5IGV4aXN0cyBidXQgd2l0aCBhIHZhbHVlIG9mIHVuZGVmaW5lZC4gSWYgaXQgaXMgcmVxdWlyZWQgdG9cclxuICoga25vdyB3aGV0aGVyIHRoZSBwYXRoIGFjdHVhbGx5IGV4aXN0cywgcGFzcyBhbiBvYmplY3QgYXMgYSB0aGlyZCBhcmd1bWVudC5cclxuICogVGhpcyBvYmplY3Qgd2lsbCBoYXZlIGFuIFwiZXhpc3RzXCIga2V5IHNldCB0byB0cnVlL2ZhbHNlLlxyXG4gKlxyXG4gKiBAcGFyYW0gb2JqZWN0IFx0XHRcdFx0Y3R4dFxyXG4gKiBAcGFyYW0gYXJyYXkgXHRcdFx0XHRwYXRoXHJcbiAqIEBwYXJhbSBvYmplY3QgXHRcdFx0XHR0cmFwXHJcbiAqIEBwYXJhbSBvYmplY3QgXHRcdFx0XHRyZWNpZXZlclxyXG4gKlxyXG4gKiBAcmV0dXJuIG1peGVkXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjdHh0LCBwYXRoLCB0cmFwID0ge30sIHJlY2lldmVyID0ge30pIHtcclxuXHRwYXRoID0gX2FyckZyb20ocGF0aCkuc2xpY2UoKTtcclxuXHR2YXIgX2N0eHQgPSBjdHh0O1xyXG5cdHdoaWxlKCFfaXNVbmRlZmluZWQoX2N0eHQpICYmICFfaXNOdWxsKF9jdHh0KSAmJiBwYXRoLmxlbmd0aCkge1xyXG5cdFx0dmFyIF9rZXkgPSBwYXRoLnNoaWZ0KCk7XHJcblx0XHRpZiAoISh0cmFwLmdldCA/IHRyYXAuZ2V0KF9jdHh0LCBfa2V5KSA6IChfaXNUeXBlT2JqZWN0KF9jdHh0KSA/IF9rZXkgaW4gX2N0eHQgOiBfY3R4dFtfa2V5XSkpKSB7XHJcblx0XHRcdHJlY2lldmVyLmV4aXN0cyA9IGZhbHNlO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHRfY3R4dCA9IHRyYXAuZ2V0ID8gdHJhcC5nZXQoX2N0eHQsIF9rZXkpIDogX2N0eHRbX2tleV07XHJcblx0fVxyXG5cdHJlY2lldmVyLmV4aXN0cyA9IHRydWU7XHJcblx0cmV0dXJuIF9jdHh0O1xyXG59O1xyXG4iLCJcclxuLyoqXHJcbiAqIEBpbXBvcnRzXHJcbiAqL1xyXG5pbXBvcnQgX2Nyb3NzSm9pbiBmcm9tICdAd2ViLW5hdGl2ZS1qcy9jb21tb25zL2Fyci9jcm9zc0pvaW4uanMnO1xyXG5pbXBvcnQgX3B1c2hVbmlxdWUgZnJvbSAnQHdlYi1uYXRpdmUtanMvY29tbW9ucy9hcnIvcHVzaFVuaXF1ZS5qcyc7XHJcbmltcG9ydCBfYXJyRnJvbSBmcm9tICdAd2ViLW5hdGl2ZS1qcy9jb21tb25zL2Fyci9mcm9tLmpzJztcclxuaW1wb3J0IF9zdHJBZnRlciBmcm9tICdAd2ViLW5hdGl2ZS1qcy9jb21tb25zL3N0ci9hZnRlci5qcyc7XHJcbmltcG9ydCBfaXNTdHJpbmcgZnJvbSAnQHdlYi1uYXRpdmUtanMvY29tbW9ucy9qcy9pc1N0cmluZy5qcyc7XHJcbmltcG9ydCBfaXNBcnJheSBmcm9tICdAd2ViLW5hdGl2ZS1qcy9jb21tb25zL2pzL2lzQXJyYXkuanMnO1xyXG5pbXBvcnQgX2NvbW1vbnNHZXQgZnJvbSAnQHdlYi1uYXRpdmUtanMvY29tbW9ucy9vYmovZ2V0LmpzJztcclxuaW1wb3J0IEZpcmVhYmxlIGZyb20gJy4vRmlyZWFibGUuanMnO1xyXG5pbXBvcnQgTXV0YXRpb25FdmVudCBmcm9tICcuL011dGF0aW9uRXZlbnQuanMnO1xyXG5pbXBvcnQgcmVmbGV4R2V0IGZyb20gJy4uL2dldC5qcyc7XHJcblxyXG4vKipcclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIFRoZSBPYnNlcnZlciBjbGFzc1xyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICovXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZpcmVhYmxlIHtcclxuXHRcclxuXHQvKipcclxuXHQgKiBJbml0aWFsaXplcyB0aGUgaW5zdGFuY2UuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0gZnVuY3Rpb25cdFx0aGFuZGxlclxyXG5cdCAqIEBwYXJhbSBzdHJpbmd8YXJyYXlcdGZpZWxkc1xyXG5cdCAqIEBwYXJhbSBvYmplY3RcdFx0cGFyYW1zXHJcblx0ICpcclxuXHQgKiBAcmV0dXJuIHZvaWRcclxuXHQgKi9cclxuXHRjb25zdHJ1Y3RvcihoYW5kbGVyLCBmaWVsZHMgPSBudWxsLCBwYXJhbXMgPSB7fSkge1xyXG5cdFx0c3VwZXIoKTtcclxuXHRcdHRoaXMuaGFuZGxlciA9IGhhbmRsZXI7XHJcblx0XHR0aGlzLmZpZWxkcyA9IGZpZWxkcztcclxuXHRcdHRoaXMucGFyYW1zID0gcGFyYW1zO1xyXG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHRcdHRoaXMuZmllbGRzQXJyYXkgPSBfYXJyRnJvbSh0aGlzLmZpZWxkcyk7XHJcblx0XHR0aGlzLmlzRHluYW1pY0ZpZWxkID0gdGhpcy5maWVsZHNBcnJheS5maWx0ZXIoXHJcblx0XHRcdGZpZWxkID0+IGZpZWxkLmluZGV4T2YoJy4uJykgPiAtMSB8fCBmaWVsZC5zdGFydHNXaXRoKCcuJykgfHwgZmllbGQuZW5kc1dpdGgoJy4nKVxyXG5cdFx0KS5sZW5ndGg7XHJcblx0XHRpZiAodGhpcy5pc0R5bmFtaWNGaWVsZCAmJiB0aGlzLmZpZWxkc0FycmF5Lmxlbmd0aCA+IDEpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdPbmx5IG9uZSBcIkR5bmFtaWMgRmllbGRcIiBtdXN0IGJlIG9ic2VydmVkIGF0IGEgdGltZSEgXCInICsgdGhpcy5maWVsZHNBcnJheS5qb2luKCcsICcpICsgJ1wiIGhhdmUgYmVlbiBib3VuZCB0b2dldGhlci4nKTtcclxuXHRcdH1cclxuXHJcblx0fVxyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIENhbGxzIHRoZSBvYnNlcnZlcidzIGhhbmRsZXIgZnVuY3Rpb25cclxuXHQgKiBvbiBtYXRjaGluZyB3aXRoIHRoZSBldmVudCdzIGZpZWxkcy5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSBNdXRhdGlvbkV2ZW50XHRcdFx0IFx0ZXZ0XHJcblx0ICpcclxuXHQgKiBAcmV0dXJuIHZvaWRcclxuXHQgKi9cclxuXHRmaXJlKGV2dCkge1xyXG5cdFx0aWYgKHRoaXMuZGlzY29ubmVjdGVkIHx8ICh0aGlzLnBhcmFtcy50eXBlICYmIHRoaXMucGFyYW1zLnR5cGUgIT09IGV2dC50eXBlKSkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHRpZiAoZXZ0LmRhdGFFdmVuICYmIHRoaXMucGFyYW1zLmRpZmYgIT09IGZhbHNlKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdHRoaXMuZmlyZUNhbGxiYWNrKGV2dCwgZmllbGRzID0+IHtcclxuXHRcdFx0aWYgKGZpZWxkcykge1xyXG5cdFx0XHRcdC8vIENhbGwgbGlzdGVuZXIuLi5cclxuXHRcdFx0XHR2YXIgZGF0YSA9IFtdO1xyXG5cdFx0XHRcdHZhciBfZGF0YSA9IFtdO1xyXG5cdFx0XHRcdGlmICh0aGlzLnBhcmFtcy5kYXRhICE9PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0ZmllbGRzLmZvckVhY2goZmllbGQgPT4ge1xyXG5cdFx0XHRcdFx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdFx0XHRcdFx0XHQvLyBUaGUgTkVXL09MRCB2YWx1ZXMgb2YgdGhlIGNoYW5nZSBvZiBmaWVsZCB3aGljaCBjb3VsZCBiZSBhIHBhdGhcclxuXHRcdFx0XHRcdFx0dmFyIGZpZWxkRGF0YSA9IGV2dC5vcmlnaW5hdGluZ0ZpZWxkcy5yZWR1Y2UoKGZpZWxkRGF0YSwgb3JpZ2luYXRpbmdGaWVsZCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdC8vIFNvIGZpZWxkIGlzIHRoZSBleGFjdCBvcmlnaW5hdGluZ0ZpZWxkIHBhdGg/XHJcblx0XHRcdFx0XHRcdFx0dmFyIHZhbHVlID0gZXZ0Lm9yaWdpbmF0aW5nRGF0YVtvcmlnaW5hdGluZ0ZpZWxkXTtcclxuXHRcdFx0XHRcdFx0XHR2YXIgX3ZhbHVlID0gZXZ0Ll9vcmlnaW5hdGluZ0RhdGFbb3JpZ2luYXRpbmdGaWVsZF07XHJcblx0XHRcdFx0XHRcdFx0aWYgKCFmaWVsZERhdGEgJiYgZmllbGQgPT09IG9yaWdpbmF0aW5nRmllbGQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBbdmFsdWUsIF92YWx1ZV07XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdC8vIEZpZWxkIG1hdGNoZXMsIGJ1dCBpcyBkZWVwZXIgdGhhbiwgb3JpZ2luYXRpbmdGaWVsZCBwYXRoP1xyXG5cdFx0XHRcdFx0XHRcdGlmICghZmllbGREYXRhICYmIChmaWVsZCArICcuJykuc3RhcnRzV2l0aCgob3JpZ2luYXRpbmdGaWVsZCArICcuJykpKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR2YXIgZmllbGRRdWVyeSA9IF9zdHJBZnRlcihmaWVsZCwgb3JpZ2luYXRpbmdGaWVsZCArICcuJyk7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gW1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBOb3RpY2Ugd2UncmUgdXNpbmcgX2NvbW1vbnNHZXQgdG8gZGlnIHRoZSBwYXRoXHJcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGJ1dCB3aXRoIHJlZmxleEdldCBhcyB0cmFwIGZvciBcInJlYWN0aXZlIGdldHRpbmdcIlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRfY29tbW9uc0dldCh2YWx1ZSwgZmllbGRRdWVyeS5zcGxpdCgnLicpLCB7Z2V0OnJlZmxleEdldH0pLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRfY29tbW9uc0dldChfdmFsdWUsIGZpZWxkUXVlcnkuc3BsaXQoJy4nKSwge2dldDpyZWZsZXhHZXR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZpZWxkRGF0YTtcclxuXHRcdFx0XHRcdFx0fSwgbnVsbCk7XHJcblx0XHRcdFx0XHRcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0XHRcdFx0XHRcdGlmIChmaWVsZERhdGEpIHtcclxuXHRcdFx0XHRcdFx0XHRkYXRhLnB1c2goZmllbGREYXRhLnNoaWZ0KCkpO1xyXG5cdFx0XHRcdFx0XHRcdF9kYXRhLnB1c2goZmllbGREYXRhLnNoaWZ0KCkpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdHZhciBjdXJyZW50VmFsdWUgPSBfY29tbW9uc0dldChldnQudGFyZ2V0LCBfaXNTdHJpbmcoZmllbGQpID8gZmllbGQuc3BsaXQoJy4nKSA6IGZpZWxkLCB7Z2V0OnJlZmxleEdldH0pO1xyXG5cdFx0XHRcdFx0XHRcdGRhdGEucHVzaChjdXJyZW50VmFsdWUpO1xyXG5cdFx0XHRcdFx0XHRcdF9kYXRhLnB1c2goY3VycmVudFZhbHVlKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBfaXNBcnJheSh0aGlzLmZpZWxkcykgLy8gTk9URTp3ZSdyZSBhc2tpbmcgdGhlIG9yaWdpbmFsIGZvcm1hdCFcclxuXHRcdFx0XHRcdD8gZXZ0LnJlc3BvbnNlKHRoaXMuaGFuZGxlcihkYXRhLCBfZGF0YSwgZXZ0KSlcclxuXHRcdFx0XHRcdDogZXZ0LnJlc3BvbnNlKHRoaXMuaGFuZGxlcihkYXRhWzBdLCBfZGF0YVswXSwgZXZ0KSk7XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIGRhdGEgPSB7fTtcclxuXHRcdFx0dmFyIF9kYXRhID0ge307XHJcblx0XHRcdGV2dC5maWVsZHMuZm9yRWFjaChmaWVsZCA9PiB7XHJcblx0XHRcdFx0Ly8gUmVtZWJlciB0aGF0IGV2dC5vcmlnaW5hdGluZ0RhdGEgbWlnaHQgYWN0dWFsbHkgYmUgYnViYmxpbmdcclxuXHRcdFx0XHQvLyBpbiB3aGljaCBjYXNlIHdlIGRvbid0IGV4cGVjdCB0byBzZWUgZXZlbnROYW1lIGtleS5cclxuXHRcdFx0XHR2YXIgY3VycmVudFZhbHVlID0gZmllbGQgaW4gZXZ0LmRhdGEgXHJcblx0XHRcdFx0XHQ/IGV2dC5kYXRhW2ZpZWxkXSBcclxuXHRcdFx0XHRcdDogcmVmbGV4R2V0KGV2dC50YXJnZXQsIGZpZWxkKTtcclxuXHRcdFx0XHR2YXIgcHJldlZhbHVlID0gZmllbGQgaW4gZXZ0Ll9kYXRhXHJcblx0XHRcdFx0XHQ/IGV2dC5fZGF0YVtmaWVsZF0gXHJcblx0XHRcdFx0XHQ6IGN1cnJlbnRWYWx1ZTtcclxuXHRcdFx0XHRkYXRhW2ZpZWxkXSA9IGN1cnJlbnRWYWx1ZTtcclxuXHRcdFx0XHRfZGF0YVtmaWVsZF0gPSBwcmV2VmFsdWU7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHQvLyBDYWxsIGxpc3RlbmVyLi4uXHJcblx0XHRcdHJldHVybiBldnQucmVzcG9uc2UodGhpcy5oYW5kbGVyKGRhdGEsIF9kYXRhLCBldnQpKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHRcclxuXHQvKipcclxuXHQgKiBWYWxpZGF0ZXMgYSBwcm9wb3NlZCBmaXJlIG9wZXJhdGlvbi5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSBNdXRhdGlvbkV2ZW50XHRcdCBcdGV2dFxyXG5cdCAqXHJcblx0ICogQHJldHVybiBib29sXHJcblx0ICovXHJcblx0ZmlyZUNhbGxiYWNrKGV2dCwgY2FsbGJhY2spIHtcclxuXHRcdGlmICh0aGlzLmZpZWxkc0FycmF5Lmxlbmd0aCkge1xyXG5cdFx0XHR2YXIgZHluYW1pY0ZpZWxkT3V0Y29tZXMgPSBbXTtcclxuXHRcdFx0dmFyIG1hdGNoZXMgPSB0aGlzLmZpZWxkc0FycmF5LmZpbHRlcigob2JzZXJ2ZWRGaWVsZCwgaSkgPT4ge1xyXG5cdFx0XHRcdG9ic2VydmVkRmllbGQgPSBfaXNTdHJpbmcob2JzZXJ2ZWRGaWVsZCkgXHJcblx0XHRcdFx0XHQ/IG9ic2VydmVkRmllbGQucmVwbGFjZSgvYC9nLCAnJylcclxuXHRcdFx0XHRcdDogb2JzZXJ2ZWRGaWVsZDtcclxuXHRcdFx0XHRkeW5hbWljRmllbGRPdXRjb21lc1tpXSA9IFtdO1xyXG5cdFx0XHRcdC8vIG9uZSBvYnNlcnZlZEZpZWxkIGNhbiB0dXJuIG91dCB0byBiZSB0d28gaWYgZHluYW1pY1xyXG5cdFx0XHRcdC8vIGFuZCBldnQub3JpZ2luYXRpbmdGaWVsZHMgaXMgbXVsdGlwbGVcclxuXHRcdFx0XHRyZXR1cm4gZXZ0Lm9yaWdpbmF0aW5nRmllbGRzLmZpbHRlcihpbnB1dE9yaWdpbmF0aW5nRmllbGQgPT4ge1xyXG5cdFx0XHRcdFx0dmFyIGlucHV0T3JpZ2luYXRpbmdGaWVsZFNwbGl0ID0gaW5wdXRPcmlnaW5hdGluZ0ZpZWxkLnNwbGl0KCcuJyk7XHJcblx0XHRcdFx0XHR2YXIgb2JzZXJ2ZWREeW5hbWljRmllbGRPdXRjb21lID0gdGhpcy5pc0R5bmFtaWNGaWVsZCBcclxuXHRcdFx0XHRcdFx0PyBvYnNlcnZlZEZpZWxkLnNwbGl0KCcuJykubWFwKChzZWcsIGspID0+IHNlZyB8fCBpbnB1dE9yaWdpbmF0aW5nRmllbGRTcGxpdFtrXSB8fCAnJykuam9pbignLicpXHJcblx0XHRcdFx0XHRcdDogb2JzZXJ2ZWRGaWVsZDtcclxuXHRcdFx0XHRcdF9wdXNoVW5pcXVlKGR5bmFtaWNGaWVsZE91dGNvbWVzW2ldLCBvYnNlcnZlZER5bmFtaWNGaWVsZE91dGNvbWUpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIChvYnNlcnZlZER5bmFtaWNGaWVsZE91dGNvbWUgPT09IGlucHV0T3JpZ2luYXRpbmdGaWVsZCAmJiAhZXZ0LnNyY0V2dFxyXG5cdFx0XHRcdFx0XHR8fCAodGhpcy5wYXJhbXMub2JzZXJ2ZVVwICE9PSBmYWxzZSAmJiAob2JzZXJ2ZWREeW5hbWljRmllbGRPdXRjb21lICsgJy4nKS5zdGFydHNXaXRoKGlucHV0T3JpZ2luYXRpbmdGaWVsZCArICcuJykpXHJcblx0XHRcdFx0XHRcdHx8ICh0aGlzLnBhcmFtcy5vYnNlcnZlRG93biAmJiAoaW5wdXRPcmlnaW5hdGluZ0ZpZWxkICsgJy4nKS5zdGFydHNXaXRoKG9ic2VydmVkRHluYW1pY0ZpZWxkT3V0Y29tZSArICcuJykpXHJcblx0XHRcdFx0XHQpICYmICghdGhpcy5pc0R5bmFtaWNGaWVsZCB8fCAhb2JzZXJ2ZWREeW5hbWljRmllbGRPdXRjb21lLnNwbGl0KCcuJykuZmlsdGVyKHNlZyA9PiAhc2VnKS5sZW5ndGgpO1xyXG5cdFx0XHRcdH0pLmxlbmd0aDtcclxuXHRcdFx0fSkubGVuZ3RoO1xyXG5cdFx0XHRpZiAobWF0Y2hlcykge1xyXG5cdFx0XHRcdF9jcm9zc0pvaW4oZHluYW1pY0ZpZWxkT3V0Y29tZXMpLmZvckVhY2goY2FsbGJhY2spO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2UgaWYgKCFldnQuc3JjRXZ0IHx8IHRoaXMucGFyYW1zLm9ic2VydmVEb3duKSB7XHJcblx0XHRcdGNhbGxiYWNrKCk7XHJcblx0XHR9XHJcblx0fVxyXG59OyIsIlxyXG4vKipcclxuICogUmV0dXJuIHRoZSByZW1haW5kZXIgb2YgYSBzdHJpbmcgYWZ0ZXIgYSBnaXZlbiB2YWx1ZS5cclxuICpcclxuICogQHBhcmFtICBzdHJpbmcgIHN1YmplY3RcclxuICogQHBhcmFtICBzdHJpbmcgIHNlYXJjaFxyXG4gKiBAcGFyYW0gIGJvb2xcdCAgIGFmdGVyTGFzdFxyXG4gKlxyXG4gKiBAcmV0dXJuIHN0cmluZ1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc3ViamVjdCwgc2VhcmNoLCBhZnRlckxhc3QgPSBmYWxzZSkge1xyXG5cdGlmIChzZWFyY2ggPT0gJycpIHtcclxuXHRcdHJldHVybiBzdWJqZWN0O1xyXG5cdH1cclxuXHR2YXIgcG9zID0gYWZ0ZXJMYXN0ID8gc3ViamVjdC5sYXN0SW5kZXhPZihzZWFyY2gpIDogc3ViamVjdC5pbmRleE9mKHNlYXJjaCk7XHJcblx0aWYgKHBvcyA9PT0gLTEpIHtcclxuXHRcdHJldHVybiAnJztcclxuXHR9XHJcblx0cmV0dXJuIHN1YmplY3Quc3Vic3RyKHBvcyArIHNlYXJjaC5sZW5ndGgpO1xyXG59O1xyXG4iLCJcclxuLyoqXHJcbiAqIEBpbXBvcnRzXHJcbiAqL1xyXG5pbXBvcnQgX2FyckZyb20gZnJvbSAnLi9mcm9tLmpzJztcclxuXHJcbi8qKlxyXG4gKiBBY2NlcHRzIGEgbGlzdCBvZiBjb2x1bW4gYW5kIGpvaW5zIHRoZW0gdG8gYSB0YWJsZS5cclxuICpcclxuICogQHBhcmFtIGFycmF5IFx0YXJyXHJcbiAqXHJcbiAqIEByZXR1cm4gbnVtYmVyXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihhcnIpIHtcclxuXHRyZXR1cm4gYXJyLnJlZHVjZSgoY3VyclRhYmxlLCBjb2x1bW4pID0+IHtcclxuXHRcdHZhciBuZXdUYWJsZSA9IFtdO1xyXG5cdFx0Y3VyclRhYmxlLmZvckVhY2gocm93ID0+IHtcclxuXHRcdFx0X2FyckZyb20oY29sdW1uKS5mb3JFYWNoKGNvbHVtbiA9PiB7XHJcblx0XHRcdFx0dmFyIF9yb3cgPSByb3cuc2xpY2UoKTtcclxuXHRcdFx0XHRfcm93LnB1c2goY29sdW1uKTtcclxuXHRcdFx0XHRuZXdUYWJsZS5wdXNoKF9yb3cpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIG5ld1RhYmxlO1xyXG5cdH0sIFtbXV0pO1xyXG59OyIsIlxyXG4vKipcclxuICogQGltcG9ydHNcclxuICovXHJcbmltcG9ydCBfaXNGdW5jdGlvbiBmcm9tICdAd2ViLW5hdGl2ZS1qcy9jb21tb25zL2pzL2lzRnVuY3Rpb24uanMnO1xyXG5pbXBvcnQgX2lzVHlwZU9iamVjdCBmcm9tICdAd2ViLW5hdGl2ZS1qcy9jb21tb25zL2pzL2lzVHlwZU9iamVjdC5qcyc7XHJcbmltcG9ydCBfZ2V0VHlwZSBmcm9tICdAd2ViLW5hdGl2ZS1qcy9jb21tb25zL2pzL2dldFR5cGUuanMnO1xyXG5pbXBvcnQgT2JzZXJ2ZXJCYXNlIGZyb20gJy4vaW50ZXJuYWwvT2JzZXJ2ZXJCYXNlLmpzJztcclxuaW1wb3J0IE9ic2VydmVyIGZyb20gJy4vaW50ZXJuYWwvT2JzZXJ2ZXIuanMnO1xyXG5cclxuLyoqXHJcbiAqIEFkZHMgYW4gb2JzZXJ2ZXIgdG8gYW4gb2JqZWN0J3MgZmlyZWJhc2UuXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheXxvYmplY3RcdFx0XHRcdG9iamVjdFxyXG4gKiBAcGFyYW0gc3RyaW5nfGFycmF5fGZ1bmN0aW9uXHRcdGZpZWxkc1xyXG4gKiBAcGFyYW0gZnVuY3Rpb25cdFx0XHRcdFx0Y2FsbGJhY2tcclxuICogQHBhcmFtIG9iamVjdFx0XHRcdFx0XHRwYXJhbXNcclxuICpcclxuICogQHJldHVybiBPYnNlcnZlclxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ob2JqZWN0LCBmaWVsZHMsIGNhbGxiYWNrID0gbnVsbCwgcGFyYW1zID0ge30pIHtcclxuXHRpZiAoIW9iamVjdCB8fCAhX2lzVHlwZU9iamVjdChvYmplY3QpKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ09iamVjdCBtdXN0IGJlIG9mIHR5cGUgb2JqZWN0IScpO1xyXG5cdH1cclxuXHRpZiAoX2lzRnVuY3Rpb24oZmllbGRzKSkge1xyXG5cdFx0cGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBjYWxsYmFjayA6IHt9O1xyXG5cdFx0Y2FsbGJhY2sgPSBmaWVsZHM7XHJcblx0XHRmaWVsZHMgPSBudWxsO1xyXG5cdH1cclxuXHRpZiAoIV9pc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKCdDYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb247IFwiJyArIF9nZXRUeXBlKGNhbGxiYWNrKSArICdcIiBnaXZlbiEnKTtcclxuXHR9XHJcblx0dmFyIGZpcmViYXNlO1xyXG5cdGlmICghKGZpcmViYXNlID0gT2JzZXJ2ZXJCYXNlLmdldEZvclRhcmdldChvYmplY3QpKSkge1xyXG5cdFx0ZmlyZWJhc2UgPSBPYnNlcnZlckJhc2UuY3JlYXRlRm9yVGFyZ2V0KG9iamVjdCk7XHJcblx0fVxyXG5cdHJldHVybiBmaXJlYmFzZS5hZGRGaXJlYWJsZShuZXcgT2JzZXJ2ZXIoY2FsbGJhY2ssIGZpZWxkcywgcGFyYW1zKSk7XHJcbn1cclxuIiwiXHJcbi8qKlxyXG4gKiBAaW1wb3J0c1xyXG4gKi9cclxuaW1wb3J0IF9vYmpGcm9tIGZyb20gJ0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvb2JqL2Zyb20uanMnO1xyXG5pbXBvcnQgTXV0YXRpb25FdmVudCBmcm9tICcuL2ludGVybmFsL011dGF0aW9uRXZlbnQuanMnO1xyXG5pbXBvcnQgT2JzZXJ2ZXJCYXNlIGZyb20gJy4vaW50ZXJuYWwvT2JzZXJ2ZXJCYXNlLmpzJztcclxuaW1wb3J0IG9ic2VydmUgZnJvbSAnLi9vYnNlcnZlLmpzJztcclxuXHJcbi8qKlxyXG4gKiBCdWJibGUgaGVscGVyXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheXxvYmplY3RcdHRhcmdldFxyXG4gKiBAcGFyYW0gc3RyaW5nXHRcdGZpZWxkXHJcbiAqIEBwYXJhbSBhcnJheXxvYmplY3RcdG9iamVjdFxyXG4gKlxyXG4gKiBAcmV0dXJuIHZvaWRcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHRhcmdldCwgZmllbGQsIG9iamVjdCkge1xyXG5cdHZhciBmaXJlYmFzZTtcclxuXHRvYnNlcnZlKG9iamVjdCwgKGVudHJpZXMsIF9lbnRyaWVzLCBlKSA9PiB7XHJcblx0XHRpZiAoZmlyZWJhc2UgPSBPYnNlcnZlckJhc2UuZ2V0Rm9yVGFyZ2V0KHRhcmdldCkpIHtcclxuXHRcdFx0dmFyIGJhc2UgPSBfb2JqRnJvbShmaWVsZCwgb2JqZWN0KTtcclxuXHRcdFx0cmV0dXJuIGZpcmViYXNlLmZpcmUobmV3IE11dGF0aW9uRXZlbnQodGFyZ2V0LCB7dHlwZTplLnR5cGUsIGJ1YmJsaW5nOnRydWUsIGRhdGE6YmFzZSwgX2RhdGE6YmFzZSwgc3JjRXZ0OmV9KSk7XHJcblx0XHR9XHJcblx0fSwge29ic2VydmVEb3duOnRydWUsIHRhZ3M6WycjZS1idWJibGluZycsIGZpZWxkLCB0YXJnZXRdfSk7XHJcbn1cclxuIiwiXHJcbi8qKlxyXG4gKiBAaW1wb3J0c1xyXG4gKi9cclxuaW1wb3J0IF9jb3B5IGZyb20gJ0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvb2JqL2NvcHkuanMnO1xyXG5pbXBvcnQgX21lcmdlIGZyb20gJ0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvb2JqL21lcmdlLmpzJztcclxuaW1wb3J0IF91bmlxdWUgZnJvbSAnQHdlYi1uYXRpdmUtanMvY29tbW9ucy9hcnIvdW5pcXVlLmpzJztcclxuaW1wb3J0IF9pc1R5cGVPYmplY3QgZnJvbSAnQHdlYi1uYXRpdmUtanMvY29tbW9ucy9qcy9pc1R5cGVPYmplY3QuanMnO1xyXG5pbXBvcnQgX2lzQXJyYXkgZnJvbSAnQHdlYi1uYXRpdmUtanMvY29tbW9ucy9qcy9pc0FycmF5LmpzJztcclxuaW1wb3J0IE11dGF0aW9uRXZlbnQgZnJvbSAnLi9pbnRlcm5hbC9NdXRhdGlvbkV2ZW50LmpzJztcclxuaW1wb3J0IE9ic2VydmVyQmFzZSBmcm9tICcuL2ludGVybmFsL09ic2VydmVyQmFzZS5qcyc7XHJcbmltcG9ydCB1bmxpbmsgZnJvbSAnLi91bmxpbmsuanMnO1xyXG5pbXBvcnQgbGluayBmcm9tICcuL2xpbmsuanMnO1xyXG5cclxuLyoqXHJcbiAqIEV4ZWN1dGVzIGEgY2FsbGJhY2sgZnVuY3Rpb24gb24gYSB0YXJnZXQgaW4gXCJ0cmFuc2FjdGlvblwiIG1vZGUuXHJcbiAqIEZpcmVzIGFueSBvYnNlcnZlcnMgdGhhdCBtYXkgYmUgYm91bmQgdG8gdGFyZ2V0IG9uIHJlY29yZGVkIGNoYW5nZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheVx0XHRcdHRhcmdldHNcclxuICogQHBhcmFtIGZ1bmN0aW9uXHRcdGNhbGxiYWNrXHJcbiAqIEBwYXJhbSBhcnJheVx0XHRcdGtleXNcclxuICogQHBhcmFtIGJvb2xcdFx0XHRyZXR1cm5FdmVudFxyXG4gKlxyXG4gKiBAcmV0dXJuIGFycmF5fEV2ZW50XHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih0YXJnZXRzLCBjYWxsYmFjaywga2V5cyA9IFtdLCByZXR1cm5FdmVudCA9IGZhbHNlKSB7XHJcblx0dmFyIGNvbnRleHQgPSB0YXJnZXRzLm1hcCgodGFyZ2V0LCBpKSA9PiB7XHJcblx0XHRpZiAoIXRhcmdldCB8fCAhX2lzVHlwZU9iamVjdCh0YXJnZXQpKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignVGFyZ2V0IG11c3QgYmUgb2YgdHlwZSBvYmplY3QhJyk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR0YXJnZXQsXHJcblx0XHRcdHRhcmdldENvcHk6IF9jb3B5KHRhcmdldCwga2V5cyksXHJcblx0XHRcdHNldERhdGE6IHt9LFxyXG5cdFx0XHRfc2V0RGF0YToge30sXHJcblx0XHRcdGRlbERhdGE6IHt9LCBcclxuXHRcdFx0X2RlbERhdGE6IHt9LFxyXG5cdFx0XHRjcmVhdGVkOiBbXSxcclxuXHRcdFx0ZGVsZXRlZDogW10sXHJcblx0XHR9O1xyXG5cdH0pO1xyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdHZhciByZXN1bHQgPSBjYWxsYmFjayguLi50YXJnZXRzKTtcclxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHRjb250ZXh0Lm1hcChjbnR4dCA9PiB7XHJcblx0XHR2YXIgaW5pdGlhbEtleXMgPSBPYmplY3Qua2V5cyhjbnR4dC50YXJnZXRDb3B5KTtcclxuXHRcdHZhciBjdXJyZW50S2V5cyA9IE9iamVjdC5rZXlzKGNudHh0LnRhcmdldCk7XHJcblx0XHR2YXIgY2hhbmdlZEtleXMgPSBfdW5pcXVlKGluaXRpYWxLZXlzLmNvbmNhdChjdXJyZW50S2V5cykpLmZpbHRlcihrZXkgPT4ge1xyXG5cdFx0XHRpZiAoKGtleXMubGVuZ3RoICYmICFrZXlzLmluY2x1ZGVzKGtleSkpIFxyXG5cdFx0XHR8fCAoX2lzQXJyYXkoY250eHQudGFyZ2V0KSAmJiAoa2V5ID09PSAnbGVuZ3RoJyB8fCBrZXkgPT09ICc8IHIgZSBmIGwgZSB4ID4nKSkpIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCFjdXJyZW50S2V5cy5pbmNsdWRlcyhrZXkpKSB7XHJcblx0XHRcdFx0Y250eHQuX2RlbERhdGFba2V5XSA9IGNudHh0LnRhcmdldENvcHlba2V5XTtcclxuXHRcdFx0XHRjbnR4dC5kZWxEYXRhW2tleV0gPSB1bmRlZmluZWQ7XHJcblx0XHRcdFx0Y250eHQuZGVsZXRlZC5wdXNoKGtleSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Y250eHQuX3NldERhdGFba2V5XSA9IGNudHh0LnRhcmdldENvcHlba2V5XTtcclxuXHRcdFx0XHRjbnR4dC5zZXREYXRhW2tleV0gPSBjbnR4dC50YXJnZXRba2V5XTtcclxuXHRcdFx0XHRpZiAoIWluaXRpYWxLZXlzLmluY2x1ZGVzKGtleSkpIHtcclxuXHRcdFx0XHRcdGNudHh0LmNyZWF0ZWQucHVzaChrZXkpO1xyXG5cdFx0XHRcdH0gXHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGNudHh0LnRhcmdldENvcHlba2V5XSAhPT0gY250eHQudGFyZ2V0W2tleV0pIHtcclxuXHRcdFx0XHQvLyBVbm9ic2VydmUgb3V0Z29pbmcgdmFsdWUgZm9yIGJ1YmJsaW5nXHJcblx0XHRcdFx0aWYgKGNudHh0LnRhcmdldENvcHlba2V5XSAmJiBfaXNUeXBlT2JqZWN0KGNudHh0LnRhcmdldENvcHlba2V5XSkpIHtcclxuXHRcdFx0XHRcdHVubGluayhjbnR4dC50YXJnZXQsIGtleSwgY250eHQudGFyZ2V0Q29weVtrZXldKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gT2JzZXJ2ZSBpbmNvbWluZyB2YWx1ZSBmb3IgYnViYmxpbmdcclxuXHRcdFx0XHRpZiAoY250eHQudGFyZ2V0W2tleV0gJiYgX2lzVHlwZU9iamVjdChjbnR4dC50YXJnZXRba2V5XSkpIHtcclxuXHRcdFx0XHRcdGxpbmsoY250eHQudGFyZ2V0LCBrZXksIGNudHh0LnRhcmdldFtrZXldKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH1cclxuXHRcdFx0ZGVsZXRlIGNudHh0LnNldERhdGFba2V5XTtcclxuXHRcdFx0ZGVsZXRlIGNudHh0Ll9zZXREYXRhW2tleV07XHJcblx0XHR9KTtcclxuXHRcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdFx0dmFyIGV2dCwgbXV0YXRpb25CYXNlO1xyXG5cdFx0aWYgKChtdXRhdGlvbkJhc2UgPSBPYnNlcnZlckJhc2UuZ2V0Rm9yVGFyZ2V0KGNudHh0LnRhcmdldCkpIHx8IHJldHVybkV2ZW50KSB7XHJcblx0XHRcdGV2dCA9IG5ldyBNdXRhdGlvbkV2ZW50KGNudHh0LnRhcmdldCwge1xyXG5cdFx0XHRcdHR5cGU6J3RyYW5zYWN0aW9uJywgXHJcblx0XHRcdFx0ZGF0YTpfbWVyZ2UoY250eHQuc2V0RGF0YSwgY250eHQuZGVsRGF0YSksXHJcblx0XHRcdFx0X2RhdGE6X21lcmdlKGNudHh0Ll9zZXREYXRhLCBjbnR4dC5fZGVsRGF0YSksXHJcblx0XHRcdFx0Y3JlYXRlZDpjbnR4dC5jcmVhdGVkLFxyXG5cdFx0XHRcdGRlbGV0ZWQ6Y250eHQuZGVsZXRlZFxyXG5cdFx0XHR9KTtcclxuXHRcdFx0aWYgKG11dGF0aW9uQmFzZSkge1xyXG5cdFx0XHRcdGlmIChPYmplY3Qua2V5cyhjbnR4dC5kZWxEYXRhKS5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGV2dC5yZXNwb25zZShtdXRhdGlvbkJhc2UuZmlyZShcclxuXHRcdFx0XHRcdFx0bmV3IE11dGF0aW9uRXZlbnQoY250eHQudGFyZ2V0LCB7dHlwZTonZGVsJywgZGF0YTpjbnR4dC5kZWxEYXRhLCBfZGF0YTpjbnR4dC5fZGVsRGF0YSwgZGVsZXRlZDpjbnR4dC5kZWxldGVkfSlcclxuXHRcdFx0XHRcdCkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoT2JqZWN0LmtleXMoY250eHQuc2V0RGF0YSkubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRldnQucmVzcG9uc2UobXV0YXRpb25CYXNlLmZpcmUoXHJcblx0XHRcdFx0XHRcdG5ldyBNdXRhdGlvbkV2ZW50KGNudHh0LnRhcmdldCwge3R5cGU6J3NldCcsIGRhdGE6Y250eHQuc2V0RGF0YSwgX2RhdGE6Y250eHQuX3NldERhdGEsIGNyZWF0ZWQ6Y250eHQuY3JlYXRlZH0pXHJcblx0XHRcdFx0XHQpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiByZXR1cm5FdmVudCA/IGV2dCA6IGNoYW5nZWRLZXlzO1xyXG5cdH0pO1xyXG5cdHJldHVybiByZXN1bHQ7XHJcbn1cclxuIiwiXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgbGlzdCBvZiB1bmlxdWUgaXRlbXMuXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheVx0IFx0XHRcdFx0YXJyXHJcbiAqXHQgKlxyXG4gKiBAcmV0dXJuIGFycmF5XHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihhcnIpIHtcclxuXHRjb25zdCBkaXN0aW5jdCA9ICh2YWx1ZSwgaW5kZXgsIHNlbGYpID0+IHtcclxuXHRcdHJldHVybiBzZWxmLmluZGV4T2YodmFsdWUpID09PSBpbmRleDtcclxuXHR9O1xyXG5cdHJldHVybiBhcnIuZmlsdGVyKGRpc3RpbmN0KTtcclxufTtcclxuIiwiXHJcbi8qKlxyXG4gKiBAaW1wb3J0c1xyXG4gKi9cclxuaW1wb3J0IF9vYmpGcm9tIGZyb20gJ0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvb2JqL2Zyb20uanMnO1xyXG5pbXBvcnQgX2lzQXJyYXkgZnJvbSAnQHdlYi1uYXRpdmUtanMvY29tbW9ucy9qcy9pc0FycmF5LmpzJztcclxuaW1wb3J0IF9pc051bWVyaWMgZnJvbSAnQHdlYi1uYXRpdmUtanMvY29tbW9ucy9qcy9pc051bWVyaWMuanMnO1xyXG5pbXBvcnQgX2lzRnVuY3Rpb24gZnJvbSAnQHdlYi1uYXRpdmUtanMvY29tbW9ucy9qcy9pc0Z1bmN0aW9uLmpzJztcclxuaW1wb3J0IF9pc1R5cGVPYmplY3QgZnJvbSAnQHdlYi1uYXRpdmUtanMvY29tbW9ucy9qcy9pc1R5cGVPYmplY3QuanMnO1xyXG5pbXBvcnQgUXVlcnlFdmVudCBmcm9tICcuL2ludGVybmFsL1F1ZXJ5RXZlbnQuanMnO1xyXG5pbXBvcnQgVHJhcEJhc2UgZnJvbSAnLi9pbnRlcm5hbC9UcmFwQmFzZS5qcyc7XHJcbmltcG9ydCB0cmFuc2FjdGlvbiBmcm9tICcuL3RyYW5zYWN0aW9uLmpzJztcclxuXHJcbi8qKlxyXG4gKiBSdW5zIGEgXCJnZXRcIiBxdWVyeSBvcGVyYXRpb24gb24gYSB0YXJnZXQuXHJcbiAqIEZpcmVzIGFueSBzdWNoIHF1ZXJ5IG9ic2VydmVycyB0aGF0IG1heSBiZSBib3VuZCB0byB0YXJnZXQuXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheXxvYmplY3RcdHRhcmdldFxyXG4gKiBAcGFyYW0gc3RyaW5nfGFycmF5XHRrZXlzXHJcbiAqXHJcbiAqIEByZXR1cm4gbWl4ZWRcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHRhcmdldCwga2V5cykge1xyXG5cdGlmICghdGFyZ2V0IHx8ICFfaXNUeXBlT2JqZWN0KHRhcmdldCkpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcignVGFyZ2V0IG11c3QgYmUgb2YgdHlwZSBvYmplY3QhJyk7XHJcblx0fVxyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdC8vIEV4ZWN1dGUgYW55IFwiZ2V0XCIgdHJhcHMsIG90aGVyd2lzZSBcImdldFwiIHRoZSBkZWZhdWx0IHdheVxyXG5cdHZhciB2YWx1ZSwgdHJhcEJhc2UsIGRlZmF1bHRHZXQgPSBmdW5jdGlvbihfdmFsdWUpIHtcclxuXHRcdHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gX3ZhbHVlIDogKF9pc0FycmF5KGtleXMpID8gX29iakZyb20oa2V5cywgdGFyZ2V0KSA6IHRhcmdldFtrZXlzXSk7XHJcblx0fTtcclxuXHRpZiAodHJhcEJhc2UgPSBUcmFwQmFzZS5nZXRGb3JUYXJnZXQodGFyZ2V0KSkge1xyXG5cdFx0dmFsdWUgPSB0cmFwQmFzZS5maXJlKG5ldyBRdWVyeUV2ZW50KHRhcmdldCwge3R5cGU6J2dldCcsIHF1ZXJ5OmtleXN9KSwgZGVmYXVsdEdldCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHZhbHVlID0gZGVmYXVsdEdldCgpO1xyXG5cdH1cclxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQvLyBFeGVjdXRlIGFycmF5IG1ldGhvZHMgaW4gXCJtdXRhdGlvblwiIG1vZGVcclxuXHRpZiAoX2lzQXJyYXkodGFyZ2V0KSAmJiAhX2lzTnVtZXJpYyhrZXlzKSAmJiBfaXNGdW5jdGlvbih2YWx1ZSkpIHtcclxuXHRcdHJldHVybiBmdW5jdGlvbiByZWZsZXhBcnJheU1ldGhvZFdyYXBwZXIoLi4uYXJncykge1xyXG5cdFx0XHRyZXR1cm4gdHJhbnNhY3Rpb24oW3RhcmdldF0sICgpID0+IHtcclxuXHRcdFx0XHRyZXR1cm4gdmFsdWUuYXBwbHkodGFyZ2V0LCBhcmdzKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHRyZXR1cm4gdmFsdWU7XHJcbn1cclxuIiwiXHJcbi8qKlxyXG4gKiBUZWxscyBpZiBBTEwgaXRlbXMgcGFzcyB0aGUgdGVzdC5cclxuICpcclxuICogQHBhcmFtIGFycmF5IFx0YXJyXHJcbiAqIEBwYXJhbSBmdW5jdGlvbiBcdGNhbGxiYWNrXHJcbiAqXHJcbiAqIEByZXR1cm4gYm9vbFxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYXJyLCBjYWxsYmFjaykge1xyXG5cdHJldHVybiBhcnIucmVkdWNlKChwcmV2VGVzdCwgaXRtKSA9PiBwcmV2VGVzdCAmJiBjYWxsYmFjayhpdG0pLCB0cnVlKTtcclxufTtcclxuIiwiXHJcbi8qKlxyXG4gKiBAaW1wb3J0c1xyXG4gKi9cclxuaW1wb3J0IF9pc1R5cGVPYmplY3QgZnJvbSAnQHdlYi1uYXRpdmUtanMvY29tbW9ucy9qcy9pc1R5cGVPYmplY3QuanMnO1xyXG5pbXBvcnQgUXVlcnlFdmVudCBmcm9tICcuL2ludGVybmFsL1F1ZXJ5RXZlbnQuanMnO1xyXG5pbXBvcnQgVHJhcEJhc2UgZnJvbSAnLi9pbnRlcm5hbC9UcmFwQmFzZS5qcyc7XHJcblxyXG4vKipcclxuICogUnVucyBhbiBcImluXCIgcXVlcnkgb3BlcmF0aW9uIG9uIGEgdGFyZ2V0LlxyXG4gKiBGaXJlcyBhbnkgc3VjaCBxdWVyeSBvYnNlcnZlcnMgdGhhdCBtYXkgYmUgYm91bmQgdG8gdGFyZ2V0LlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXl8b2JqZWN0XHR0YXJnZXRcclxuICogQHBhcmFtIHN0cmluZ1x0XHRrZXlcclxuICpcclxuICogQHJldHVybiBib29sXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih0YXJnZXQsIGtleSkge1xyXG5cdGlmICghdGFyZ2V0IHx8ICFfaXNUeXBlT2JqZWN0KHRhcmdldCkpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcignVGFyZ2V0IG11c3QgYmUgb2YgdHlwZSBvYmplY3QhJyk7XHJcblx0fVxyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdC8vIEV4ZWN1dGUgYW55IFwiaGFzXCIgdHJhcHMsIG90aGVyd2lzZSBcInRlc3RcIiB0aGUgZGVmYXVsdCB3YXlcclxuXHR2YXIgdHJhcEJhc2UsIGRlZmF1bHRIYXMgPSBmdW5jdGlvbihfc3RhdGUpIHtcclxuXHRcdHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gX3N0YXRlIDogKGtleSBpbiB0YXJnZXQpO1xyXG5cdH07XHJcblx0aWYgKHRyYXBCYXNlID0gVHJhcEJhc2UuZ2V0Rm9yVGFyZ2V0KHRhcmdldCkpIHtcclxuXHRcdHJldHVybiB0cmFwQmFzZS5maXJlKG5ldyBRdWVyeUV2ZW50KHRhcmdldCwge3R5cGU6J2hhcycsIHF1ZXJ5OmtleX0pLCBkZWZhdWx0SGFzKTtcclxuXHR9XHJcblx0cmV0dXJuIGRlZmF1bHRIYXMoKTtcclxufVxyXG4iLCJcclxuLyoqXHJcbiAqIEBpbXBvcnRzXHJcbiAqL1xyXG5pbXBvcnQgX2FyckZyb20gZnJvbSAnQHdlYi1uYXRpdmUtanMvY29tbW9ucy9hcnIvZnJvbS5qcyc7XHJcbmltcG9ydCBfYWxsIGZyb20gJ0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvYXJyL2FsbC5qcyc7XHJcbmltcG9ydCBfaXNTdHJpbmcgZnJvbSAnQHdlYi1uYXRpdmUtanMvY29tbW9ucy9qcy9pc1N0cmluZy5qcyc7XHJcbmltcG9ydCBfaXNBcnJheSBmcm9tICdAd2ViLW5hdGl2ZS1qcy9jb21tb25zL2pzL2lzQXJyYXkuanMnO1xyXG5pbXBvcnQgX2lzTnVtYmVyIGZyb20gJ0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvanMvaXNOdW1iZXIuanMnO1xyXG5pbXBvcnQgX2lzT2JqZWN0IGZyb20gJ0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvanMvaXNPYmplY3QuanMnO1xyXG5pbXBvcnQgX2lzVHlwZU9iamVjdCBmcm9tICdAd2ViLW5hdGl2ZS1qcy9jb21tb25zL2pzL2lzVHlwZU9iamVjdC5qcyc7XHJcbmltcG9ydCBNdXRhdGlvbkV2ZW50IGZyb20gJy4vaW50ZXJuYWwvTXV0YXRpb25FdmVudC5qcyc7XHJcbmltcG9ydCBRdWVyeUV2ZW50IGZyb20gJy4vaW50ZXJuYWwvUXVlcnlFdmVudC5qcyc7XHJcbmltcG9ydCBPYnNlcnZlckJhc2UgZnJvbSAnLi9pbnRlcm5hbC9PYnNlcnZlckJhc2UuanMnO1xyXG5pbXBvcnQgVHJhcEJhc2UgZnJvbSAnLi9pbnRlcm5hbC9UcmFwQmFzZS5qcyc7XHJcbmltcG9ydCB1bmxpbmsgZnJvbSAnLi91bmxpbmsuanMnO1xyXG5pbXBvcnQgbGluayBmcm9tICcuL2xpbmsuanMnO1xyXG5pbXBvcnQgcmVmbGV4SGFzIGZyb20gJy4vaGFzLmpzJztcclxuXHJcbi8qKlxyXG4gKiBFeGVjdXRlcyBhIFwiX3NldFByb3BcIiB0eXBlIG9mIG9wZXJhdGlvbiBvbiBhIHRhcmdldC5cclxuICogRmlyZXMgYW55IG9ic2VydmVycyBmb3IgdGhlIHNwZWNpZmljIHR5cGUgdGhhdCBtYXkgYmUgYm91bmQgdG8gdGFyZ2V0LlxyXG4gKlxyXG4gKiBAcGFyYW0gYm9vbFx0XHRcdGRlZmluZVxyXG4gKiBAcGFyYW0gYXJyYXl8b2JqZWN0XHR0YXJnZXRcclxuICogQHBhcmFtIHN0cmluZ3xhcnJheVx0a2V5c09yUGF5bG9hZFxyXG4gKiBAcGFyYW0gbWl4ZWRcdFx0XHR2YWx1ZVxyXG4gKiBAcGFyYW0gYm9vbFx0XHRcdHJldHVybkV2ZW50XHJcbiAqXHJcbiAqIEByZXR1cm4gYm9vbHxFdmVudFxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oZGVmaW5lLCB0YXJnZXQsIGtleXNPclBheWxvYWQsIHZhbHVlID0gbnVsbCwgcmV0dXJuRXZlbnQgPSBmYWxzZSkge1xyXG5cdGlmICghdGFyZ2V0IHx8ICFfaXNUeXBlT2JqZWN0KHRhcmdldCkpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcignVGFyZ2V0IG11c3QgYmUgb2YgdHlwZSBvYmplY3QhJyk7XHJcblx0fVxyXG5cdGlmIChfaXNPYmplY3Qoa2V5c09yUGF5bG9hZCkpIHtcclxuXHRcdHJldHVybkV2ZW50ID0gdmFsdWU7XHJcblx0fVxyXG5cdHZhciBrZXlzID0ga2V5c09yUGF5bG9hZCwgX2RhdGEgPSB7fSwgZGF0YSA9IHt9LCBjcmVhdGVkID0gW107XHJcblx0dmFyIGhhbmRsZVNldCA9IChrZXksIHZhbHVlLCByZWxhdGVkKSA9PiB7XHJcblx0XHRfZGF0YVtrZXldID0gdGFyZ2V0W2tleV07XHJcblx0XHRpZiAoIXJlZmxleEhhcyh0YXJnZXQsIGtleSkpIHtcclxuXHRcdFx0Y3JlYXRlZC5wdXNoKGtleSk7XHJcblx0XHR9XHJcblx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHRcdHZhciBkZXNjcmlwdG9yO1xyXG5cdFx0aWYgKGRlZmluZSkge1xyXG5cdFx0XHRkZXNjcmlwdG9yID0gdmFsdWUgfHwge307XHJcblx0XHRcdHZhbHVlID0gZGVzY3JpcHRvci52YWx1ZTtcclxuXHRcdH1cclxuXHRcdC8vIEV4ZWN1dGUgYW55IFwic2V0XCIgdHJhcHMsIG90aGVyd2lzZSBcInNldFwiIHRoZSBkZWZhdWx0IHdheVxyXG5cdFx0dmFyIHN1Y2Nlc3MsIHRyYXBCYXNlLCBkZWZhdWx0U2V0ID0gZnVuY3Rpb24oX3N1Y2Nlc3MpIHtcclxuXHRcdFx0aWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcblx0XHRcdFx0aWYgKGRlc2NyaXB0b3IpIHtcclxuXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgZGVzY3JpcHRvcik7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHRhcmdldFtrZXldID0gdmFsdWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBfc3VjY2VzcztcclxuXHRcdH07XHJcblx0XHRpZiAodHJhcEJhc2UgPSBUcmFwQmFzZS5nZXRGb3JUYXJnZXQodGFyZ2V0KSkge1xyXG5cdFx0XHR2YXIgZGV0YWlscyA9IGRlc2NyaXB0b3IgXHJcblx0XHRcdFx0PyB7dHlwZTonZGVmJywgcXVlcnk6a2V5LCBkZXNjcmlwdG9yLCByZWxhdGVkfSBcclxuXHRcdFx0XHQ6IHt0eXBlOidzZXQnLCBxdWVyeTprZXksIHZhbHVlLCByZWxhdGVkfTtcclxuXHRcdFx0c3VjY2VzcyA9IHRyYXBCYXNlLmZpcmUobmV3IFF1ZXJ5RXZlbnQodGFyZ2V0LCBkZXRhaWxzKSwgZGVmYXVsdFNldCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzdWNjZXNzID0gZGVmYXVsdFNldCgpO1xyXG5cdFx0fVxyXG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0XHRpZiAoc3VjY2Vzcykge1xyXG5cdFx0XHRkYXRhW2tleV0gPSB2YWx1ZTtcclxuXHRcdFx0aWYgKGRhdGFba2V5XSAhPT0gX2RhdGFba2V5XSkge1xyXG5cdFx0XHRcdC8vIFVub2JzZXJ2ZSBvdXRnb2luZyB2YWx1ZSBmb3IgYnViYmxpbmdcclxuXHRcdFx0XHRpZiAoX2RhdGFba2V5XSAmJiBfaXNUeXBlT2JqZWN0KF9kYXRhW2tleV0pKSB7XHJcblx0XHRcdFx0XHR1bmxpbmsodGFyZ2V0LCBrZXksIF9kYXRhW2tleV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBPYnNlcnZlIGluY29taW5nIHZhbHVlIGZvciBidWJibGluZ1xyXG5cdFx0XHRcdGlmIChkYXRhW2tleV0gJiYgX2lzVHlwZU9iamVjdChkYXRhW2tleV0pKSB7XHJcblx0XHRcdFx0XHRsaW5rKHRhcmdldCwga2V5LCBkYXRhW2tleV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRkZWxldGUgZGF0YVtrZXldO1xyXG5cdFx0XHRcdGRlbGV0ZSBfZGF0YVtrZXldO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRkZWxldGUgX2RhdGFba2V5XTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBzdWNjZXNzO1xyXG5cdH07XHJcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0dmFyIHN1Y2Nlc3NTdGF0ZXMgPSBbXTtcclxuXHRpZiAoX2lzQXJyYXkoa2V5cykgfHwgKChfaXNTdHJpbmcoa2V5cykgfHwgX2lzTnVtYmVyKGtleXMpKSAmJiAoa2V5cyA9IF9hcnJGcm9tKGtleXMpKSkpIHtcclxuXHRcdHN1Y2Nlc3NTdGF0ZXMgPSBrZXlzLm1hcChrZXkgPT4gaGFuZGxlU2V0KGtleSwgdmFsdWUsIGtleXMpKVxyXG5cdH0gZWxzZSBpZiAoX2lzT2JqZWN0KGtleXNPclBheWxvYWQpKSB7XHJcblx0XHR2YXIgcGF5bG9hZEtleXMgPSBPYmplY3Qua2V5cyhrZXlzT3JQYXlsb2FkKTtcclxuXHRcdHN1Y2Nlc3NTdGF0ZXMgPSBwYXlsb2FkS2V5cy5tYXAoa2V5ID0+IGhhbmRsZVNldChrZXksIGtleXNPclBheWxvYWRba2V5XSwgcGF5bG9hZEtleXMpKVxyXG5cdH1cclxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHR2YXIgZXZ0LCBtdXRhdGlvbkJhc2U7XHJcblx0aWYgKChtdXRhdGlvbkJhc2UgPSBPYnNlcnZlckJhc2UuZ2V0Rm9yVGFyZ2V0KHRhcmdldCkpIHx8IHJldHVybkV2ZW50KSB7XHJcblx0XHRldnQgPSBuZXcgTXV0YXRpb25FdmVudCh0YXJnZXQsIHt0eXBlOidzZXQnLCBkYXRhLCBfZGF0YSwgY3JlYXRlZH0pO1xyXG5cdFx0aWYgKG11dGF0aW9uQmFzZSkge1xyXG5cdFx0XHRtdXRhdGlvbkJhc2UuZmlyZShldnQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gcmV0dXJuRXZlbnQgPyBldnQgOiBfYWxsKHN1Y2Nlc3NTdGF0ZXMsIHN0YXRlID0+IHN0YXRlKTtcclxufVxyXG4iLCJcclxuLyoqXHJcbiAqIEBpbXBvcnRzXHJcbiAqL1xyXG5pbXBvcnQgX3NldFByb3AgZnJvbSAnLi9fc2V0UHJvcC5qcyc7XHJcblxyXG4vKipcclxuICogRXhlY3V0ZXMgYSBcInNldFwiIG9wZXJhdGlvbiBvbiBhIHRhcmdldC5cclxuICogRmlyZXMgYW55IG9ic2VydmVycyB0aGF0IG1heSBiZSBib3VuZCB0byB0YXJnZXQuXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheXxvYmplY3RcdHRhcmdldFxyXG4gKiBAcGFyYW0gc3RyaW5nfGFycmF5XHRrZXlzT3JQYXlsb2FkXHJcbiAqIEBwYXJhbSBtaXhlZFx0XHRcdHZhbHVlXHJcbiAqIEBwYXJhbSBib29sXHRcdFx0cmV0dXJuRXZlbnRcclxuICpcclxuICogQHJldHVybiBib29sfEV2ZW50XHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih0YXJnZXQsIGtleXNPclBheWxvYWQsIHZhbHVlID0gbnVsbCwgcmV0dXJuRXZlbnQgPSBmYWxzZSkge1xyXG5cdHJldHVybiBfc2V0UHJvcChmYWxzZS8qZGVmaW5lKi8sIC4uLmFyZ3VtZW50cyk7XHJcbn1cclxuIiwiXHJcbi8qKlxyXG4gKiBAaW1wb3J0c1xyXG4gKi9cclxuaW1wb3J0IF9hcnJGcm9tIGZyb20gJ0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvYXJyL2Zyb20uanMnO1xyXG5pbXBvcnQgcmVmbGV4R2V0IGZyb20gJy4vZ2V0LmpzJztcclxuaW1wb3J0IHJlZmxleFNldCBmcm9tICcuL3NldC5qcyc7XHJcblxyXG4vKipcclxuICogSW5pdGlhbGl6ZXMgXCJSZWZseGl2ZSBnZXR0ZXIvc2V0dGVyXCIgdHJhcHMgb24gdGhlIHRhcmdldC5cclxuICpcclxuICogQHBhcmFtIGFycmF5fG9iamVjdFx0dGFyZ2V0XHJcbiAqIEBwYXJhbSBzdHJpbmd8YXJyYXlcdGtleXNcclxuICpcclxuICogQHJldHVybiB2b2lkXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih0YXJnZXQsIGtleXMpIHtcclxuXHRfYXJyRnJvbShrZXlzKS5mb3JFYWNoKGtleSA9PiB7XHJcblx0XHR2YXIgdmFsdWUgPSB0YXJnZXRba2V5XSwgb25HZXRGaXJlLCBvblNldEZpcmU7XHJcblx0XHR2YXIgY3VycmVudERlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KVxyXG5cdFx0fHwge2VudW1lcmFibGU6IGtleSBpbiB0YXJnZXQgPyBmYWxzZS8qZXhpc3RpbmcgYnV0IGhpZGRlbiovIDogdHJ1ZX07XHJcblx0XHRpZiAoJ3ZhbHVlJyBpbiBjdXJyZW50RGVzY3JpcHRvcikge1xyXG5cdFx0XHRkZWxldGUgY3VycmVudERlc2NyaXB0b3IudmFsdWU7XHJcblx0XHR9XHJcblx0XHRpZiAoJ3dyaXRhYmxlJyBpbiBjdXJyZW50RGVzY3JpcHRvcikge1xyXG5cdFx0XHRkZWxldGUgY3VycmVudERlc2NyaXB0b3Iud3JpdGFibGU7XHJcblx0XHR9XHJcblx0XHRjdXJyZW50RGVzY3JpcHRvci5nZXQgPSAoKSA9PiB7XHJcblx0XHRcdGlmIChvbkdldEZpcmUpIHtcclxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XHJcblx0XHRcdH1cclxuXHRcdFx0b25HZXRGaXJlID0gdHJ1ZTtcclxuXHRcdFx0dmFyIF92YWx1ZSA9IHJlZmxleEdldCh0YXJnZXQsIGtleSk7XHJcblx0XHRcdG9uR2V0RmlyZSA9IGZhbHNlO1xyXG5cdFx0XHRyZXR1cm4gX3ZhbHVlO1xyXG5cdFx0fTtcclxuXHRcdGN1cnJlbnREZXNjcmlwdG9yLnNldCA9IG5ld1ZhbHVlID0+IHtcclxuXHRcdFx0aWYgKG9uU2V0RmlyZSkge1xyXG5cdFx0XHRcdHZhbHVlID0gbmV3VmFsdWU7XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH1cclxuXHRcdFx0b25TZXRGaXJlID0gdHJ1ZTtcclxuXHRcdFx0dmFyIHJzcG5zID0gcmVmbGV4U2V0KHRhcmdldCwga2V5LCBuZXdWYWx1ZSk7XHJcblx0XHRcdG9uU2V0RmlyZSA9IGZhbHNlO1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH07XHJcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIGN1cnJlbnREZXNjcmlwdG9yKTtcclxuXHR9KTtcclxufVxyXG4iLCJcclxuLyoqXHJcbiAqIEBpbXBvcnRzXHJcbiAqL1xyXG5pbXBvcnQgX2lzVHlwZU9iamVjdCBmcm9tICdAd2ViLW5hdGl2ZS1qcy9jb21tb25zL2pzL2lzVHlwZU9iamVjdC5qcyc7XHJcbmltcG9ydCBRdWVyeUV2ZW50IGZyb20gJy4vaW50ZXJuYWwvUXVlcnlFdmVudC5qcyc7XHJcbmltcG9ydCBUcmFwQmFzZSBmcm9tICcuL2ludGVybmFsL1RyYXBCYXNlLmpzJztcclxuXHJcbi8qKlxyXG4gKiBSdW5zIGEgXCJnZXRQcm9wc1wiIHR5cGUgb2YgcXVlcnkgb3BlcmF0aW9uIG9uIGEgdGFyZ2V0LlxyXG4gKiBGaXJlcyBhbnkgb2JzZXJ2ZXJzIGZvciB0aGUgc3BlY2lmaWMgdHlwZSB0aGF0IG1heSBiZSBib3VuZCB0byB0YXJnZXQuXHJcbiAqXHJcbiAqIEBwYXJhbSBib29sXHRcdFx0b3duS2V5c1xyXG4gKiBAcGFyYW0gYXJyYXl8b2JqZWN0XHR0YXJnZXRcclxuICpcclxuICogQHJldHVybiBhcnJheVxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ob3duS2V5cywgdGFyZ2V0KSB7XHJcblx0aWYgKCF0YXJnZXQgfHwgIV9pc1R5cGVPYmplY3QodGFyZ2V0KSkge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKCdUYXJnZXQgbXVzdCBiZSBvZiB0eXBlIG9iamVjdCEnKTtcclxuXHR9XHJcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0Ly8gRXhlY3V0ZSBhbnkgXCJrZXlzXCIgdHJhcHMsIG90aGVyd2lzZSBcInRlc3RcIiB0aGUgZGVmYXVsdCB3YXlcclxuXHR2YXIgdHJhcEJhc2UsIGRlZmF1bHRLZXlzID0gZnVuY3Rpb24oX2tleXMpIHtcclxuXHRcdHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gX2tleXMgOiAoXHJcblx0XHRcdG93bktleXMgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpIDogT2JqZWN0LmtleXModGFyZ2V0KVxyXG5cdFx0KTtcclxuXHR9O1xyXG5cdGlmICh0cmFwQmFzZSA9IFRyYXBCYXNlLmdldEZvclRhcmdldCh0YXJnZXQpKSB7XHJcblx0XHRyZXR1cm4gdHJhcEJhc2UuZmlyZShuZXcgUXVlcnlFdmVudCh0YXJnZXQsIHt0eXBlOm93bktleXMgPyAnb3duS2V5cycgOiAna2V5cyd9KSwgZGVmYXVsdEtleXMpO1xyXG5cdH1cclxuXHRyZXR1cm4gZGVmYXVsdEtleXMoKTtcclxufVxyXG4iLCJcclxuLyoqXHJcbiAqIEBpbXBvcnRzXHJcbiAqL1xyXG5pbXBvcnQgX2dldFByb3BzIGZyb20gJy4vX2dldFByb3BzLmpzJztcclxuXHJcbi8qKlxyXG4gKiBSdW5zIGEgXCJrZXlzXCIgcXVlcnkgb3BlcmF0aW9uIG9uIGEgdGFyZ2V0LlxyXG4gKiBGaXJlcyBhbnkgc3VjaCBxdWVyeSBvYnNlcnZlcnMgdGhhdCBtYXkgYmUgYm91bmQgdG8gdGFyZ2V0LlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXl8b2JqZWN0XHR0YXJnZXRcclxuICpcclxuICogQHJldHVybiBhcnJheVxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odGFyZ2V0KSB7XHJcblx0cmV0dXJuIF9nZXRQcm9wcyhmYWxzZS8qb3duS2V5cyovLCAuLi5hcmd1bWVudHMpO1xyXG59XHJcbiIsIlxyXG4vKipcclxuICogQGltcG9ydHNcclxuICovXHJcbmltcG9ydCBfaXNGdW5jdGlvbiBmcm9tICdAd2ViLW5hdGl2ZS1qcy9jb21tb25zL2pzL2lzRnVuY3Rpb24uanMnO1xyXG5pbXBvcnQgX2lzVHlwZU9iamVjdCBmcm9tICdAd2ViLW5hdGl2ZS1qcy9jb21tb25zL2pzL2lzVHlwZU9iamVjdC5qcyc7XHJcbmltcG9ydCBfZ2V0VHlwZSBmcm9tICdAd2ViLW5hdGl2ZS1qcy9jb21tb25zL2pzL2dldFR5cGUuanMnO1xyXG5pbXBvcnQgVHJhcEJhc2UgZnJvbSAnLi9pbnRlcm5hbC9UcmFwQmFzZS5qcyc7XHJcbmltcG9ydCBUcmFwIGZyb20gJy4vaW50ZXJuYWwvVHJhcC5qcyc7XHJcblxyXG4vKipcclxuICogQWRkcyBhIHRyYXAgdG8gYW4gb2JqZWN0J3MgZmlyZWJhc2UuXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheXxvYmplY3RcdFx0XHRcdG9iamVjdFxyXG4gKiBAcGFyYW0gZnVuY3Rpb25cdFx0XHRcdFx0Y2FsbGJhY2tcclxuICogQHBhcmFtIG9iamVjdFx0XHRcdFx0XHRwYXJhbXNcclxuICpcclxuICogQHJldHVybiBUcmFwXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihvYmplY3QsIGNhbGxiYWNrLCBwYXJhbXMgPSB7fSkge1xyXG5cdGlmICghb2JqZWN0IHx8ICFfaXNUeXBlT2JqZWN0KG9iamVjdCkpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcignT2JqZWN0IG11c3QgYmUgb2YgdHlwZSBvYmplY3QhJyk7XHJcblx0fVxyXG5cdGlmICghX2lzRnVuY3Rpb24oY2FsbGJhY2spKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0NhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbjsgXCInICsgX2dldFR5cGUoY2FsbGJhY2spICsgJ1wiIGdpdmVuIScpO1xyXG5cdH1cclxuXHR2YXIgZmlyZWJhc2U7XHJcblx0aWYgKCEoZmlyZWJhc2UgPSBUcmFwQmFzZS5nZXRGb3JUYXJnZXQob2JqZWN0KSkpIHtcclxuXHRcdGZpcmViYXNlID0gVHJhcEJhc2UuY3JlYXRlRm9yVGFyZ2V0KG9iamVjdCk7XHJcblx0fVxyXG5cdHJldHVybiBmaXJlYmFzZS5hZGRGaXJlYWJsZShuZXcgVHJhcChjYWxsYmFjaywgcGFyYW1zKSk7XHJcbn1cclxuIiwiXHJcbi8qKlxyXG4gKiBAaW1wb3J0c1xyXG4gKi9cclxuaW1wb3J0IF9zZXRQcm9wIGZyb20gJy4vX3NldFByb3AuanMnO1xyXG5cclxuLyoqXHJcbiAqIEV4ZWN1dGVzIGEgXCJzZXRcIiBvcGVyYXRpb24gb24gYSB0YXJnZXQuXHJcbiAqIEZpcmVzIGFueSBvYnNlcnZlcnMgdGhhdCBtYXkgYmUgYm91bmQgdG8gdGFyZ2V0LlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXl8b2JqZWN0XHR0YXJnZXRcclxuICogQHBhcmFtIHN0cmluZ3xhcnJheVx0a2V5c09yUGF5bG9hZFxyXG4gKiBAcGFyYW0gbWl4ZWRcdFx0XHR2YWx1ZVxyXG4gKiBAcGFyYW0gYm9vbFx0XHRcdHJldHVybkV2ZW50XHJcbiAqXHJcbiAqIEByZXR1cm4gYm9vbHxFdmVudFxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odGFyZ2V0LCBrZXlzT3JQYXlsb2FkLCB2YWx1ZSA9IG51bGwsIHJldHVybkV2ZW50ID0gZmFsc2UpIHtcclxuXHRyZXR1cm4gX3NldFByb3AodHJ1ZS8qZGVmaW5lKi8sIC4uLmFyZ3VtZW50cyk7XHJcbn1cclxuIiwiXHJcbi8qKlxyXG4gKiBAaW1wb3J0c1xyXG4gKi9cclxuaW1wb3J0IF9hcnJGcm9tIGZyb20gJ0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvYXJyL2Zyb20uanMnO1xyXG5pbXBvcnQgX2FsbCBmcm9tICdAd2ViLW5hdGl2ZS1qcy9jb21tb25zL2Fyci9hbGwuanMnO1xyXG5pbXBvcnQgX2lzVHlwZU9iamVjdCBmcm9tICdAd2ViLW5hdGl2ZS1qcy9jb21tb25zL2pzL2lzVHlwZU9iamVjdC5qcyc7XHJcbmltcG9ydCBNdXRhdGlvbkV2ZW50IGZyb20gJy4vaW50ZXJuYWwvTXV0YXRpb25FdmVudC5qcyc7XHJcbmltcG9ydCBRdWVyeUV2ZW50IGZyb20gJy4vaW50ZXJuYWwvUXVlcnlFdmVudC5qcyc7XHJcbmltcG9ydCBPYnNlcnZlckJhc2UgZnJvbSAnLi9pbnRlcm5hbC9PYnNlcnZlckJhc2UuanMnO1xyXG5pbXBvcnQgVHJhcEJhc2UgZnJvbSAnLi9pbnRlcm5hbC9UcmFwQmFzZS5qcyc7XHJcbmltcG9ydCB1bmxpbmsgZnJvbSAnLi91bmxpbmsuanMnO1xyXG5pbXBvcnQgcmVmbGV4SGFzIGZyb20gJy4vaGFzLmpzJztcclxuXHJcbi8qKlxyXG4gKiBFeGVjdXRlcyBhIFwiZGVsZXRlXCIgb3BlcmF0aW9uIG9uIGEgdGFyZ2V0LlxyXG4gKiBGaXJlcyBhbnkgb2JzZXJ2ZXJzIHRoYXQgbWF5IGJlIGJvdW5kIHRvIHRhcmdldC5cclxuICpcclxuICogQHBhcmFtIGFycmF5fG9iamVjdFx0dGFyZ2V0XHJcbiAqIEBwYXJhbSBzdHJpbmd8YXJyYXlcdGtleXNcclxuICogQHBhcmFtIGJvb2xcdFx0XHRyZXR1cm5FdmVudFxyXG4gKlxyXG4gKiBAcmV0dXJuIGJvb2x8RXZlbnRcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHRhcmdldCwga2V5cywgcmV0dXJuRXZlbnQgPSBmYWxzZSkge1xyXG5cdGlmICghdGFyZ2V0IHx8ICFfaXNUeXBlT2JqZWN0KHRhcmdldCkpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcignVGFyZ2V0IG11c3QgYmUgb2YgdHlwZSBvYmplY3QhJyk7XHJcblx0fVxyXG5cdHZhciBrZXlzID0gX2FyckZyb20oa2V5cyksIF9kYXRhID0ge30sIGRhdGEgPSB7fSwgZGVsZXRlZCA9IFtdO1xyXG5cdHZhciBzdWNjZXNzU3RhdGVzID0ga2V5cy5tYXAoa2V5ID0+IHtcclxuXHRcdF9kYXRhW2tleV0gPSB0YXJnZXRba2V5XTtcclxuXHRcdGlmIChyZWZsZXhIYXModGFyZ2V0LCBrZXkpKSB7XHJcblx0XHRcdGRlbGV0ZWQucHVzaChrZXkpO1xyXG5cdFx0fVxyXG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0XHQvLyBFeGVjdXRlIGFueSBcImRlbFwiIHRyYXBzLCBvdGhlcndpc2UgXCJkZWxcIiB0aGUgZGVmYXVsdCB3YXlcclxuXHRcdHZhciBzdWNjZXNzLCB0cmFwQmFzZSwgZGVmYXVsdERlbCA9IGZ1bmN0aW9uKF9zdWNjZXNzKSB7XHJcblx0XHRcdGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG5cdFx0XHRcdGRlbGV0ZSB0YXJnZXRba2V5XTtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gX3N1Y2Nlc3M7XHJcblx0XHR9O1xyXG5cdFx0aWYgKHRyYXBCYXNlID0gVHJhcEJhc2UuZ2V0Rm9yVGFyZ2V0KHRhcmdldCkpIHtcclxuXHRcdFx0c3VjY2VzcyA9IHRyYXBCYXNlLmZpcmUobmV3IFF1ZXJ5RXZlbnQodGFyZ2V0LCB7dHlwZTonZGVsJywgcXVlcnk6a2V5LCByZWxhdGVkOmtleXN9KSwgZGVmYXVsdERlbCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzdWNjZXNzID0gZGVmYXVsdERlbCgpO1xyXG5cdFx0fVxyXG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0XHRpZiAoc3VjY2Vzcykge1xyXG5cdFx0XHRkYXRhW2tleV0gPSB1bmRlZmluZWQ7XHJcblx0XHRcdC8vIFVub2JzZXJ2ZSBvdXRnb2luZyB2YWx1ZSBmb3IgYnViYmxpbmdcclxuXHRcdFx0aWYgKF9kYXRhW2tleV0gJiYgX2lzVHlwZU9iamVjdChfZGF0YVtrZXldKSkge1xyXG5cdFx0XHRcdHVubGluayh0YXJnZXQsIGtleSwgX2RhdGFba2V5XSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBzdWNjZXNzO1xyXG5cdH0pO1xyXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdHZhciBldnQsIG11dGF0aW9uQmFzZTtcclxuXHRpZiAoKG11dGF0aW9uQmFzZSA9IE9ic2VydmVyQmFzZS5nZXRGb3JUYXJnZXQodGFyZ2V0KSkgfHwgcmV0dXJuRXZlbnQpIHtcclxuXHRcdGV2dCA9IG5ldyBNdXRhdGlvbkV2ZW50KHRhcmdldCwge3R5cGU6J2RlbCcsIGRhdGEsIF9kYXRhLCBkZWxldGVkfSk7XHJcblx0XHRpZiAobXV0YXRpb25CYXNlICYmIE9iamVjdC5rZXlzKGRhdGEpLmxlbmd0aCkge1xyXG5cdFx0XHRtdXRhdGlvbkJhc2UuZmlyZShldnQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gcmV0dXJuRXZlbnQgPyBldnQgOiBfYWxsKHN1Y2Nlc3NTdGF0ZXMsIHN0YXRlID0+IHN0YXRlKTtcclxufVxyXG4iLCJcclxuLyoqXHJcbiAqIEBpbXBvcnRzXHJcbiAqL1xyXG5pbXBvcnQgRmlyZWJhc2UgZnJvbSAnLi9GaXJlYmFzZS5qcyc7XHJcblxyXG4vKipcclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIFRoZSBMaXN0ZW5lckJhc2UgY2xhc3NcclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqL1x0XHRcdFx0XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpc3RlbmVyQmFzZSBleHRlbmRzIEZpcmViYXNlIHtcclxuXHRcclxuXHQvKipcclxuXHQgKiBGaXJlcyBhbGwgb2JzZXJ2ZXJzIHdpdGggdGhlIGdpdmVuIGV2dCAoY2hhbmdlKS5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSBFdmVudFx0XHRcdFx0ZXZ0XHJcblx0ICpcclxuXHQgKiBAcmV0dXJuIEV2ZW50XHJcblx0ICovXHJcblx0ZmlyZShldnQpIHtcclxuXHRcdHRoaXMuZmlyZWFibGVzLmZvckVhY2gobGlzdGVuZXIgPT4ge1xyXG5cdFx0XHRpZiAoZXZ0LnByb3BhZ2F0aW9uU3RvcHBlZCkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHRsaXN0ZW5lci5maXJlKGV2dCk7XHJcblx0XHR9KTtcclxuXHRcdHJldHVybiBldnQ7XHJcblx0fVxyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEBpbmhlcml0ZG9jXHJcblx0ICovXHJcblx0c3RhdGljIGNyZWF0ZUZvclRhcmdldChvYmplY3QsIFN0YXRpYyA9IExpc3RlbmVyQmFzZSkge1xyXG5cdFx0cmV0dXJuIHN1cGVyLmNyZWF0ZUZvclRhcmdldChvYmplY3QsICdsaXN0ZW5lcnMnLCBTdGF0aWMpO1xyXG5cdH1cclxuXHRcclxuXHQvKipcclxuXHQgKiBAaW5oZXJpdGRvY1xyXG5cdCAqL1xyXG5cdHN0YXRpYyBnZXRGb3JUYXJnZXQob2JqZWN0KSB7XHJcblx0XHRyZXR1cm4gc3VwZXIuZ2V0Rm9yVGFyZ2V0KG9iamVjdCwgJ2xpc3RlbmVycycpO1xyXG5cdH1cclxufTsiLCJcclxuLyoqXHJcbiAqIEBpbXBvcnRzXHJcbiAqL1xyXG5pbXBvcnQgRmlyZWFibGUgZnJvbSAnLi9GaXJlYWJsZS5qcyc7XHJcblxyXG4vKipcclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIFRoZSBMaXN0ZW5lciBjbGFzc1xyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICovXHRcdFx0XHRcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGaXJlYWJsZSB7XHJcblx0XHJcblx0LyoqXHJcblx0ICogSW5pdGlhbGl6ZXMgdGhlIGluc3RhbmNlLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIGZ1bmN0aW9uXHRcdGhhbmRsZXJcclxuXHQgKiBAcGFyYW0gb2JqZWN0XHRcdHBhcmFtc1xyXG5cdCAqXHJcblx0ICogQHJldHVybiB2b2lkXHJcblx0ICovXHJcblx0Y29uc3RydWN0b3IoaGFuZGxlciwgcGFyYW1zID0ge30pIHtcclxuXHRcdHN1cGVyKCk7XHJcblx0XHR0aGlzLmhhbmRsZXIgPSBoYW5kbGVyO1xyXG5cdFx0dGhpcy5wYXJhbXMgPSBwYXJhbXM7XHJcblxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2FsbHMgdGhlIG9ic2VydmVyJ3MgaGFuZGxlciBmdW5jdGlvblxyXG5cdCAqIG9uIG1hdGNoaW5nIHdpdGggdGhlIGV2ZW50J3MgZmllbGRzLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIE11dGF0aW9uRXZlbnRcdFx0XHQgXHRldnRcclxuXHQgKlxyXG5cdCAqIEByZXR1cm4gdm9pZFxyXG5cdCAqL1xyXG5cdGZpcmUoZXZ0KSB7XHJcblx0XHRpZiAodGhpcy5wYXJhbXMudHlwZSA9PT0gZXZ0LnR5cGUpIHtcclxuXHRcdFx0ZXZ0LnJlc3BvbnNlKHRoaXMuaGFuZGxlci5jYWxsKHRoaXMudGFyZ2V0LCBldnQuZSkpO1xyXG5cdFx0fVxyXG5cdH1cclxufTsiLCJcclxuLyoqXHJcbiAqIEBpbXBvcnRzXHJcbiAqL1xyXG5pbXBvcnQgYnVpbGQgZnJvbSAnLi9idWlsZC5qcyc7XHJcbmltcG9ydCBvYnNlcnZlIGZyb20gJy4vb2JzZXJ2ZS5qcyc7XHJcbmltcG9ydCB1bm9ic2VydmUgZnJvbSAnLi91bm9ic2VydmUuanMnO1xyXG5pbXBvcnQgdHJhcCBmcm9tICcuL3RyYXAuanMnO1xyXG5pbXBvcnQgdW50cmFwIGZyb20gJy4vdW50cmFwLmpzJztcclxuaW1wb3J0IGRlZiBmcm9tICcuL2RlZi5qcyc7XHJcbmltcG9ydCBzZXQgZnJvbSAnLi9zZXQuanMnO1xyXG5pbXBvcnQgZGVsIGZyb20gJy4vZGVsLmpzJztcclxuaW1wb3J0IGxpbmsgZnJvbSAnLi9saW5rLmpzJztcclxuaW1wb3J0IHVubGluayBmcm9tICcuL3VubGluay5qcyc7XHJcbmltcG9ydCB0cmFuc2FjdGlvbiBmcm9tICcuL3RyYW5zYWN0aW9uLmpzJztcclxuaW1wb3J0IGdldCBmcm9tICcuL2dldC5qcyc7XHJcbmltcG9ydCBoYXMgZnJvbSAnLi9oYXMuanMnO1xyXG5pbXBvcnQgaW5pdCBmcm9tICcuL2luaXQuanMnO1xyXG5pbXBvcnQga2V5cyBmcm9tICcuL2tleXMuanMnO1xyXG5pbXBvcnQgb3duS2V5cyBmcm9tICcuL293bktleXMuanMnO1xyXG5pbXBvcnQgb24gZnJvbSAnLi9vbi5qcyc7XHJcbmltcG9ydCBvZmYgZnJvbSAnLi9vZmYuanMnO1xyXG5pbXBvcnQgdHJpZ2dlciBmcm9tICcuL3RyaWdnZXIuanMnO1xyXG5pbXBvcnQgTXV0YXRpb25FdmVudCBmcm9tICcuL2ludGVybmFsL011dGF0aW9uRXZlbnQuanMnO1xyXG5pbXBvcnQgUXVlcnlFdmVudCBmcm9tICcuL2ludGVybmFsL1F1ZXJ5RXZlbnQuanMnO1xyXG5pbXBvcnQgRXZlbnQgZnJvbSAnLi9pbnRlcm5hbC9FdmVudC5qcyc7XHJcblxyXG4vLyBOb3cgd2UnbGwgbWltaWNrIHN0YW5kYXJkIFRyYXAgcHJvcGVydGllc1xyXG4vLyBzbyB0aGF0IGNhbiBiZSB1c2VkIGFzIHN0YW5kYXJkIFRyYXAgb3V0IG9mIHRoZSBib3guXHJcbmNvbnN0IGRlbGV0ZVByb3BlcnR5ID0gZGVsO1xyXG5jb25zdCBkZWZpbmVQcm9wZXJ0eSA9IGRlZjtcclxuXHJcbi8qKlxyXG4gKiBAZXhwb3J0c1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQge1xyXG5cdGJ1aWxkLFxyXG5cdG9ic2VydmUsXHJcblx0dW5vYnNlcnZlLFxyXG5cdHRyYXAsXHJcblx0dW50cmFwLFxyXG5cdGRlZixcclxuXHRkZWZpbmVQcm9wZXJ0eSxcclxuXHRzZXQsXHJcblx0ZGVsLFxyXG5cdGRlbGV0ZVByb3BlcnR5LFxyXG5cdGxpbmssXHJcblx0dW5saW5rLFxyXG5cdHRyYW5zYWN0aW9uLFxyXG5cdGdldCxcclxuXHRoYXMsXHJcblx0aW5pdCxcclxuXHRrZXlzLFxyXG5cdG93bktleXMsXHJcblx0b24sXHJcblx0b2ZmLFxyXG5cdHRyaWdnZXIsXHJcblx0Ly8gRXZlbnRzXHJcblx0TXV0YXRpb25FdmVudCxcclxuXHRRdWVyeUV2ZW50LFxyXG5cdEV2ZW50LFxyXG59OyIsIlxyXG4vKipcclxuICogQGltcG9ydHNcclxuICovXHJcbmltcG9ydCBfaXNUeXBlT2JqZWN0IGZyb20gJ0B3ZWItbmF0aXZlLWpzL2NvbW1vbnMvanMvaXNUeXBlT2JqZWN0LmpzJztcclxuaW1wb3J0IGluaXQgZnJvbSAnLi9pbml0LmpzJztcclxuaW1wb3J0IHJlZmxleEtleXMgZnJvbSAnLi9rZXlzLmpzJztcclxuaW1wb3J0IHJlZmxleEdldCBmcm9tICcuL2dldC5qcyc7XHJcbmltcG9ydCBsaW5rIGZyb20gJy4vbGluay5qcyc7XHJcblxyXG4vKipcclxuICogUmVjdXJzaXZlbHkgXCJjb25uZWN0c1wiIGFuIG9iamVjdCdzIG1lbWJlcnMgdG8gdGhlIG9iamVjdFxyXG4gKiBmb3IgcmVmbGV4IGFjdGlvbnMuXHJcbiAqXHJcbiAqIEBwYXJhbSBhcnJheXxvYmplY3RcdHRhcmdldFxyXG4gKiBAcGFyYW0gYm9vbFx0XHRcdF9pbml0XHJcbiAqXHJcbiAqIEByZXR1cm4gdm9pZFxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYnVpbGQodGFyZ2V0LCBfaW5pdCA9IGZhbHNlKSB7XHJcblx0aWYgKCF0YXJnZXQgfHwgIV9pc1R5cGVPYmplY3QodGFyZ2V0KSkge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKCdUYXJnZXQgbXVzdCBiZSBvZiB0eXBlIG9iamVjdCEnKTtcclxuXHR9XHJcblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0dmFyIGtleXMgPSByZWZsZXhLZXlzKHRhcmdldCk7XHJcblx0a2V5cy5mb3JFYWNoKGtleSA9PiB7XHJcblx0XHR2YXIgdmFsdWUgPSByZWZsZXhHZXQodGFyZ2V0LCBrZXkpO1xyXG5cdFx0aWYgKF9pc1R5cGVPYmplY3QodmFsdWUpICYmIHZhbHVlKSB7XHJcblx0XHRcdGxpbmsodGFyZ2V0LCBrZXksIHZhbHVlKTtcclxuXHRcdFx0YnVpbGQodmFsdWUsIF9pbml0KTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHRpZiAoX2luaXQpIHtcclxuXHRcdGluaXQodGFyZ2V0LCBrZXlzKTtcclxuXHR9XHJcbn1cclxuIiwiXHJcbi8qKlxyXG4gKiBAaW1wb3J0c1xyXG4gKi9cclxuaW1wb3J0IF9pc1R5cGVPYmplY3QgZnJvbSAnQHdlYi1uYXRpdmUtanMvY29tbW9ucy9qcy9pc1R5cGVPYmplY3QuanMnO1xyXG5pbXBvcnQgT2JzZXJ2ZXJCYXNlIGZyb20gJy4vaW50ZXJuYWwvT2JzZXJ2ZXJCYXNlLmpzJztcclxuXHJcbi8qKlxyXG4gKiBSZW1vdmVzIGEgdHJhcCBmcm9tIGFuIG9iamVjdCdzIGZpcmViYXNlLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXl8b2JqZWN0XHRcdFx0XHRvYmplY3RcclxuICogQHBhcmFtIGZ1bmN0aW9uXHRcdFx0XHRcdG9yaWdpbmFsQ2FsbGJhY2tcclxuICogQHBhcmFtIG9iamVjdFx0XHRcdFx0XHRwYXJhbXNcclxuICpcclxuICogQHJldHVybiB2b2lkXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihvYmplY3QsIG9yaWdpbmFsQ2FsbGJhY2sgPSBudWxsLCBwYXJhbXMgPSB7fSkge1xyXG5cdGlmICghb2JqZWN0IHx8ICFfaXNUeXBlT2JqZWN0KG9iamVjdCkpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcignT2JqZWN0IG11c3QgYmUgb2YgdHlwZSBvYmplY3QhJyk7XHJcblx0fVxyXG5cdHZhciBmaXJlYmFzZTtcclxuXHRpZiAoZmlyZWJhc2UgPSBPYnNlcnZlckJhc2UuZ2V0Rm9yVGFyZ2V0KG9iamVjdCkpIHtcclxuXHRcdGZpcmViYXNlLmZpbmRGaXJlYWJsZXMoe2hhbmRsZXI6b3JpZ2luYWxDYWxsYmFjaywgcGFyYW1zfSkuZm9yRWFjaCh0cmFwID0+IHtcclxuXHRcdFx0ZmlyZWJhc2UucmVtb3ZlRmlyZWFibGUodHJhcCk7XHJcblx0XHR9KTtcclxuXHR9XHJcbn1cclxuIiwiXHJcbi8qKlxyXG4gKiBAaW1wb3J0c1xyXG4gKi9cclxuaW1wb3J0IF9nZXRQcm9wcyBmcm9tICcuL19nZXRQcm9wcy5qcyc7XHJcblxyXG4vKipcclxuICogUnVucyBhIFwib3duS2V5c1wiIHF1ZXJ5IG9wZXJhdGlvbiBvbiBhIHRhcmdldC5cclxuICogRmlyZXMgYW55IHN1Y2ggcXVlcnkgb2JzZXJ2ZXJzIHRoYXQgbWF5IGJlIGJvdW5kIHRvIHRhcmdldC5cclxuICpcclxuICogQHBhcmFtIGFycmF5fG9iamVjdFx0dGFyZ2V0XHJcbiAqXHJcbiAqIEByZXR1cm4gYXJyYXlcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHRhcmdldCkge1xyXG5cdHJldHVybiBfZ2V0UHJvcHModHJ1ZS8qb3duS2V5cyovLCAuLi5hcmd1bWVudHMpO1xyXG59XHJcbiIsIlxyXG4vKipcclxuICogQGltcG9ydHNcclxuICovXHJcbmltcG9ydCBfbWVyZ2UgZnJvbSAnQHdlYi1uYXRpdmUtanMvY29tbW9ucy9vYmovbWVyZ2UuanMnO1xyXG5pbXBvcnQgTGlzdGVuZXJCYXNlIGZyb20gJy4vaW50ZXJuYWwvTGlzdGVuZXJCYXNlLmpzJztcclxuaW1wb3J0IExpc3RlbmVyIGZyb20gJy4vaW50ZXJuYWwvTGlzdGVuZXIuanMnO1xyXG5cclxuLyoqXHJcbiAqIEJpbmRzIGxpc3RlbmVycyB0byBhbiBlbGVtZW50J3MgZXZlbnQgY29udHJvbGxlci5cclxuICpcclxuICogQHBhcmFtIGFycmF5fG9iamVjdCBcdFx0XHRcdG9iamVjdFxyXG4gKiBAcGFyYW0gc3RyaW5nXHRcdCBcdFx0XHR0eXBlXHJcbiAqIEBwYXJhbSBmdW5jdGlvblx0XHQgXHRcdFx0Y2FsbGJhY2tcclxuICogQHBhcmFtIG9iamVjdFx0XHRcdFx0XHRwYXJhbXNcclxuICpcclxuICogQHJldHVybiBvYmplY3RcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG9iamVjdCwgdHlwZSwgY2FsbGJhY2ssIHBhcmFtcyA9IHt9KSB7XHJcblx0dmFyIGZpcmViYXNlO1xyXG5cdGlmICghKGZpcmViYXNlID0gTGlzdGVuZXJCYXNlLmdldEZvclRhcmdldChvYmplY3QpKSkge1xyXG5cdFx0ZmlyZWJhc2UgPSBMaXN0ZW5lckJhc2UuY3JlYXRlRm9yVGFyZ2V0KG9iamVjdCk7XHJcblx0fVxyXG5cdHJldHVybiBmaXJlYmFzZS5hZGRGaXJlYWJsZShuZXcgTGlzdGVuZXIoY2FsbGJhY2ssIF9tZXJnZShwYXJhbXMsIHt0eXBlfSkpKTtcclxufTsiLCJcclxuLyoqXHJcbiAqIEBpbXBvcnRzXHJcbiAqL1xyXG5pbXBvcnQgTGlzdGVuZXJCYXNlIGZyb20gJy4vaW50ZXJuYWwvTGlzdGVuZXJCYXNlLmpzJztcclxuXHJcbi8qKlxyXG4gKiBVbmJpbmRzIGxpc3RlbmVycyBmcm9tIGFuIGVsZW1lbnQncyBldmVudCBjb250cm9sbGVyLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXl8b2JqZWN0IFx0XHRcdFx0b2JqZWN0XHJcbiAqIEBwYXJhbSBzdHJpbmdcdFx0IFx0XHRcdHR5cGVcclxuICogQHBhcmFtIGZ1bmN0aW9uXHRcdCBcdFx0XHRvcmlnaW5hbENhbGxiYWNrXHJcbiAqIEBwYXJhbSBvYmplY3RcdFx0XHRcdFx0cGFyYW1zXHJcbiAqXHJcbiAqIEByZXR1cm4gdm9pZFxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ob2JqZWN0LCB0eXBlLCBvcmlnaW5hbENhbGxiYWNrID0gbnVsbCwgcGFyYW1zID0ge30pIHtcclxuXHR2YXIgZmlyZWJhc2U7XHJcblx0aWYgKGZpcmViYXNlID0gTGlzdGVuZXJCYXNlLmdldEZvclRhcmdldChvYmplY3QpKSB7XHJcblx0XHRmaXJlYmFzZS5maW5kRmlyZWFibGVzKHtoYW5kbGVyOm9yaWdpbmFsQ2FsbGJhY2ssIHR5cGUsIHBhcmFtc30pLmZvckVhY2gobGlzdGVuZXIgPT4ge1xyXG5cdFx0XHRmaXJlYmFzZS5yZW1vdmVGaXJlYWJsZShsaXN0ZW5lcik7XHJcblx0XHR9KTtcclxuXHR9XHJcbn07IiwiXHJcbi8qKlxyXG4gKiBAaW1wb3J0c1xyXG4gKi9cclxuaW1wb3J0IF9tZXJnZSBmcm9tICdAd2ViLW5hdGl2ZS1qcy9jb21tb25zL29iai9tZXJnZS5qcyc7XHJcbmltcG9ydCBMaXN0ZW5lckJhc2UgZnJvbSAnLi9pbnRlcm5hbC9MaXN0ZW5lckJhc2UuanMnO1xyXG5pbXBvcnQgRXZlbnQgZnJvbSAnLi9pbnRlcm5hbC9FdmVudC5qcyc7XHJcblxyXG4vKipcclxuICogRmlyZXMgYW4gZXZlbnQgb24gYW4gb2JqZWN0J3MgbGlzdGVuZXJCYXNlLlxyXG4gKlxyXG4gKiBAcGFyYW0gYXJyYXl8b2JqZWN0IFx0XHRcdG9iamVjdFxyXG4gKiBAcGFyYW0gc3RyaW5nICAgICAgICAgICAgICAgIHR5cGVcclxuICogQHBhcmFtIG9iamVjdCAgICAgICAgICAgICAgICBkYXRhXHJcbiAqXHJcbiAqIEByZXR1cm4gRXZlbnRcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG9iamVjdCwgdHlwZSwgZGF0YSA9IHt9KSB7XHJcblx0dmFyIGZpcmViYXNlO1xyXG5cdGlmIChmaXJlYmFzZSA9IExpc3RlbmVyQmFzZS5nZXRGb3JUYXJnZXQob2JqZWN0KSkge1xyXG5cdFx0cmV0dXJuIGZpcmViYXNlLmZpcmUobmV3IEV2ZW50KG9iamVjdCwgX21lcmdlKGRhdGEsIHt0eXBlfSkpKTtcclxuXHR9XHJcbn07IiwiXHJcbi8qKlxyXG4gKiBAaW1wb3J0c1xyXG4gKi9cclxuaW1wb3J0IFJlZmxleCBmcm9tICcuL2luZGV4LmpzJztcclxuXHJcbi8vIEFzIGdsb2JhbHNcclxuaWYgKCF3aW5kb3cuV2ViTmF0aXZlKSB7XHJcblx0d2luZG93LldlYk5hdGl2ZSA9IHt9O1xyXG59XHJcbndpbmRvdy5XZWJOYXRpdmUuUmVmbGV4ID0gUmVmbGV4O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9